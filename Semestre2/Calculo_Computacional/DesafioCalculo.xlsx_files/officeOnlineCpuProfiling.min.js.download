var officeOnlineCpuProfiling=function(e){var r={};function t(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,s){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(s,o,function(r){return e[r]}.bind(null,o));return s},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=46)}({42:function(e,r,t){"use strict";var s;t.d(r,"a",(function(){return s})),function(e){e[e.msoulscat_ES_EWAJS=0]="msoulscat_ES_EWAJS",e[e.msoulscat_ES_EWAJSGrid=1]="msoulscat_ES_EWAJSGrid",e[e.msoulscat_ES_EWAJSChart=6]="msoulscat_ES_EWAJSChart",e[e.msoulscat_MSOSP_FileMenuCommands=202]="msoulscat_MSOSP_FileMenuCommands",e[e.msoulscat_MSOSP_AddInCommands=220]="msoulscat_MSOSP_AddInCommands",e[e.msoulscat_MSOSP_OTelJS=225]="msoulscat_MSOSP_OTelJS",e[e.msoulscat_MSOSP_OTelJSInWebWoker=227]="msoulscat_MSOSP_OTelJSInWebWoker",e[e.msoulscat_MSOSP_OTelJSWebWorkerPrototype=228]="msoulscat_MSOSP_OTelJSWebWorkerPrototype",e[e.msoulscat_Wac_WordViewer=301]="msoulscat_Wac_WordViewer",e[e.msoulscat_Wac_BrowserGeneral=306]="msoulscat_Wac_BrowserGeneral",e[e.msoulscat_Wac_TaskPane=320]="msoulscat_Wac_TaskPane",e[e.msoulscat_Wac_OneNoteGeneral=339]="msoulscat_Wac_OneNoteGeneral",e[e.msoulscat_Wac_Ribbon=340]="msoulscat_Wac_Ribbon",e[e.msoulscat_Wac_WacFeedback=356]="msoulscat_Wac_WacFeedback",e[e.msoulscat_Wac_WopiPendingApplication=379]="msoulscat_Wac_WopiPendingApplication",e[e.msoulscat_Wac_Telemetry=383]="msoulscat_Wac_Telemetry",e[e.msoulscat_Wac_WacCatchUpActivities=391]="msoulscat_Wac_WacCatchUpActivities",e[e.msoulscat_Wac_Dictation=394]="msoulscat_Wac_Dictation",e[e.msoulscat_Wac_OneNoteSync=395]="msoulscat_Wac_OneNoteSync",e[e.msoulscat_Wac_VisioApp=700]="msoulscat_Wac_VisioApp",e[e.msoulscat_OneNoteOnline_EditableCache=1601]="msoulscat_OneNoteOnline_EditableCache",e[e.msoulscat_Wac_PptAnimation=800]="msoulscat_Wac_PptAnimation",e[e.msoulscat_Wac_PptLive=833]="msoulscat_Wac_PptLive",e[e.msoulscat_Wac_PptMWeb=834]="msoulscat_Wac_PptMWeb",e[e.msoulscat_Wac_PptGc2General=835]="msoulscat_Wac_PptGc2General",e[e.msoulscat_Wac_PptGc2GraphicHost=836]="msoulscat_Wac_PptGc2GraphicHost",e[e.msoulscat_Wac_PptGc2Operation=837]="msoulscat_Wac_PptGc2Operation",e[e.msoulscat_Wac_PptGc2EditCanvas=852]="msoulscat_Wac_PptGc2EditCanvas",e[e.msoulscat_Wac_PptDataSync=844]="msoulscat_Wac_PptDataSync",e[e.msoulscat_Wac_PptFluidRuntime=848]="msoulscat_Wac_PptFluidRuntime",e[e.msoulscat_Wac_PptShape=815]="msoulscat_Wac_PptShape",e[e.msoulscat_Wac_PptSession=817]="msoulscat_Wac_PptSession",e[e.msoulscat_Wac_PptSlideshow=830]="msoulscat_Wac_PptSlideshow",e[e.msoulscat_Wac_PptView=822]="msoulscat_Wac_PptView",e[e.msoulscat_Wac_PptVideos=846]="msoulscat_Wac_PptVideos",e[e.msoulscat_Uci_Insights=1303]="msoulscat_Uci_Insights",e[e.msoulscat_Wac_VersionHistory=2300]="msoulscat_Wac_VersionHistory",e[e.msoulscat_Wac_WordPresence=302]="msoulscat_Wac_WordPresence",e[e.msoulscat_Wac_OAuth=3e3]="msoulscat_Wac_OAuth",e[e.msoulscat_Wac_WordVersionHistory=3005]="msoulscat_Wac_WordVersionHistory",e[e.msoulscat_Wac_LivePersonaCard=3006]="msoulscat_Wac_LivePersonaCard",e[e.msoulscat_Wac_CatchUpFlyout=3012]="msoulscat_Wac_CatchUpFlyout",e[e.msoulscat_Wac_WordDesigner=3016]="msoulscat_Wac_WordDesigner",e[e.msoulscat_Wac_ModernFontPicker=3021]="msoulscat_Wac_ModernFontPicker",e[e.msoulscat_Wac_UnifiedUiHost=3027]="msoulscat_Wac_UnifiedUiHost",e[e.msoulscat_Wac_EquationTools=3033]="msoulscat_Wac_EquationTools",e[e.msoulscat_Osf_Latency=1401]="msoulscat_Osf_Latency",e[e.msoulscat_Osf_Notification=1402]="msoulscat_Osf_Notification",e[e.msoulscat_Osf_Runtime=1403]="msoulscat_Osf_Runtime",e[e.msoulscat_Wac_AiMaker=3041]="msoulscat_Wac_AiMaker",e[e.msoulscat_Wac_AiRewrite=3043]="msoulscat_Wac_AiRewrite",e[e.msoulscat_Wac_AiInsert=3044]="msoulscat_Wac_AiInsert",e[e.msoulscat_Wac_AiSummarize=3047]="msoulscat_Wac_AiSummarize",e[e.msoulscat_Wac_CopilotCompose=3048]="msoulscat_Wac_CopilotCompose",e[e.msoulscat_Wac_Skittles=3049]="msoulscat_Wac_Skittles",e[e.msoulscat_Wac_CopilotChat=3050]="msoulscat_Wac_CopilotChat",e[e.msoulscat_Wac_Syntex=3051]="msoulscat_Wac_Syntex",e[e.msoulscat_Wac_WireGraph=3052]="msoulscat_Wac_WireGraph",e[e.msoulscat_Wac_CshCopilot=3053]="msoulscat_Wac_CshCopilot",e[e.msoulscat_Wac_CopilotComposeLaunchpad=3054]="msoulscat_Wac_CopilotComposeLaunchpad",e[e.msoulscat_Wac_CopilotProactiveSummary=3055]="msoulscat_Wac_CopilotProactiveSummary",e[e.msoulscat_Wac_CopilotProactiveShared=3056]="msoulscat_Wac_CopilotProactiveShared",e[e.msoulscat_Wac_CopilotCursor=3057]="msoulscat_Wac_CopilotCursor"}(s||(s={}))},43:function(e,r,t){"use strict";var s;t.d(r,"a",(function(){return s})),function(e){e[e.Error=10]="Error",e[e.Warning=15]="Warning",e[e.Important=20]="Important",e[e.Info=50]="Info",e[e.Verbose=100]="Verbose",e[e.Spam=200]="Spam"}(s||(s={}))},46:function(e,r,t){"use strict";t.r(r),t.d(r,"getJSCPUProfilingPackageRetriever",(function(){return Rr}));class s{start(){this.logger.logNullJSCPUProfilerStartCalled()}stop(){this.logger.logNullJSCPUProfilerStopCalled()}subscribeProfilerObserver(e,r){}unsubscribeProfilerObserver(e,r){}subscribeCallTreeCustomPropertiesRetriever(e){}unsubscribeCallTreeCustomPropertiesRetriever(e){}subscribeCallTreeCustomFilterer(e){}unsubscribeCallTreeCustomFilterer(e){}constructor(e){this.logger=e}}class o{getCurrentTimestamp(){return performance.now()}}class i{start(){this.unsupportedEnvironment?this.logger.logStopWatchStartingInUnsupportedEnvironment():this.startTimestamp=this.performanceTimestampRetriever.getCurrentTimestamp()}stop(){this.unsupportedEnvironment?this.logger.logStopWatchStoppingInUnsupportedEnvironment():this.stopTimestamp=this.performanceTimestampRetriever.getCurrentTimestamp()}getElapsedTime(){if(-1===this.startTimestamp)return this.logger.logGetElapsedTimeCalledWithoutCallingStart(),-1;if(-1===this.stopTimestamp)return this.logger.logGetElapsedTimeCalledWithoutCallingStop(),-1;const e=this.stopTimestamp-this.startTimestamp;return this.resetTimestamps(),e}resetTimestamps(){this.startTimestamp=-1,this.stopTimestamp=-1}constructor(e,r,t){return this.performanceAPIChecker=e,this.performanceTimestampRetriever=r,this.logger=t,this.startTimestamp=-1,this.stopTimestamp=-1,this.performanceAPIChecker.isPerformanceAPIAvailable()?this.performanceAPIChecker.isPerformanceNowDefined()?void(this.unsupportedEnvironment=!1):(this.logger.logPerformanceNowMissingInJSEnvironment(),void(this.unsupportedEnvironment=!0)):(this.logger.logPerformanceMissingInJSEnvironment(),void(this.unsupportedEnvironment=!0))}}var a=t(51),l=t(42),n=t(43);class d{logPerformanceMissingInJSEnvironment(){a.a.sendTraceTag(579110677,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Unable to find performance in the JS environment")}logPerformanceNowMissingInJSEnvironment(){a.a.sendTraceTag(579110678,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Unable to find performance.now in the JS environment")}logStopWatchStartingInUnsupportedEnvironment(){a.a.sendTraceTag(579110679,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Starting the stopwatch in an unsupported environment. Incorrect data will be stored")}logStopWatchStoppingInUnsupportedEnvironment(){a.a.sendTraceTag(579110680,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Stopping the stopwatch in an unsupported environment. Incorrect data will be stored")}logGetElapsedTimeCalledWithoutCallingStart(){a.a.sendTraceTag(579110683,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Stopwatch needs to be started before you can get elapsed time")}logGetElapsedTimeCalledWithoutCallingStop(){a.a.sendTraceTag(579110684,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Stopwatch needs to be stopped before you can get elapsed time")}}class c{isPerformanceAPIAvailable(){return null!=performance}isPerformanceNowDefined(){return"now"in performance}}class u{serializeException(e){this.wasSerializeExceptionCalled=!0,null!=JSON&&"stringify"in JSON?this.serializedException=null!=Object&&"getOwnPropertyNames"in Object?JSON.stringify(e,Object.getOwnPropertyNames(e)):"":this.serializedException=""}retrieveSerializedException(){return this.wasSerializeExceptionCalled?(this.wasSerializeExceptionCalled=!1,this.serializedException):""}constructor(){this.serializedException="",this.wasSerializeExceptionCalled=!1}}class g{logOperation(e,r,t,s,o,i,a,l){}logFallbackResultReturned(){}}const m=new class{push(e){this.elements.unshift(e)}pop(){return this.elements.shift()}peek(){return this.elements.length>0?this.elements[0]:void 0}constructor(){this.elements=[]}};class p{addLog(e){this.logs.push(e)}addProperty(e,r){this.propertyBag.set(e,r)}getResult(){return this.operationResult.result}static startNew(e,r,t,s,o,i){return new p(e,r,t,null!=o&&o,null==i?new u:i,null==s?new g:s)}constructor(e,r,t,s,a,l){const n=m.peek(),u=void 0!==n?n:"";m.push(e),this.logs=[],this.propertyBag=new Map;const g=class{static createNewStopWatch(){const e=new d,r=new c,t=new o;return new i(r,t,e)}}.createNewStopWatch();g.start();let p=void 0,h=!1;try{p=r(this),h=p.didOperationFailUnexpectedly}catch(e){a.serializeException(e),this.exception=a.retrieveSerializedException(),h=!0}this.operationResult=void 0!==p?p:t,g.stop(),!h&&s||l.logOperation(e,u,this.operationResult.didOperationSucceed,g.getElapsedTime(),h,this.logs,this.propertyBag,this.exception),m.pop()}}class h{static generateOperationResult(e){return new h(e.didOperationSucceed,null!=e.didOperationFailUnexpectedly&&e.didOperationFailUnexpectedly,e.result)}constructor(e,r,t){this.didOperationSucceed=e,this.didOperationFailUnexpectedly=r,this.result=t}}class T{logWindowMissingInJSEnvironment(){a.a.sendTraceTag(578834847,l.a.msoulscat_Wac_Telemetry,n.a.Warning,"Unable to find window in the JS environment")}logEmptyUserAgentString(){a.a.sendTraceTag(578834850,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Empty user agent string")}logChromiumOnIOS(){a.a.sendTraceTag(578834851,l.a.msoulscat_Wac_Telemetry,n.a.Info,"iOS version of Chromium based browser detected")}logBrowserUserAgentNotChromiumBased(){a.a.sendTraceTag(578834880,l.a.msoulscat_Wac_Telemetry,n.a.Info,"Browser not chromium based")}logUserAgentSpoofedToBeChromium(){a.a.sendTraceTag(578834881,l.a.msoulscat_Wac_Telemetry,n.a.Info,"Browser user agent spoofed to be chromium based")}logUserAgentToParseChromiumMajorVersionNumber(e){a.a.sendTraceTag(578834882,l.a.msoulscat_Wac_Telemetry,n.a.Info,e)}logChromeNotPresentInUserAgent(){a.a.sendTraceTag(578834883,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Chrome was not found in the user agent")}logUnableToIsolateChromeInformationFromUserAgent(){a.a.sendTraceTag(578834884,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Unable to isolate chrome information from the user agent")}logUnableToExtractChromeVersionInformation(){a.a.sendTraceTag(578834885,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Unable to extract chrome version information from the user agent")}logUnableToParseChromeMajorVersionString(){a.a.sendTraceTag(578834886,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Unable to parse the chromium major version number")}logRequestIdleCallbackMissing(){a.a.sendTraceTag(576582740,l.a.msoulscat_Wac_Telemetry,n.a.Warning,"Unable to find window.requestIdleCallback in the JS environment")}logCallbackBeingInvokedImmediately(){a.a.sendTraceTag(576582743,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Callback is being invoked immediately as there is no platform support for deferring work")}logCancelIdleCallbackMissing(){a.a.sendTraceTag(576582744,l.a.msoulscat_Wac_Telemetry,n.a.Warning,"Unable to find window.cancelIdleCallback in the JS environment")}logUnknownMechanism(){a.a.sendTraceTag(576582747,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Unable to find a way to cancel the idle time job")}logWindowSetTimeOutMissingInJSEnvironment(){a.a.sendTraceTag(576239755,l.a.msoulscat_Wac_Telemetry,n.a.Error,"window.setTimeout is missing in JS environment")}logWindowPerformanceMissingInJSEnvironment(){a.a.sendTraceTag(576218121,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Unable to find window.performance in the JS environment")}logWindowPerformanceNowMissingInJSEnvironment(){a.a.sendTraceTag(576218122,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Unable to find window.performance.now in the JS environment")}logNavigatorMissingInJSEnvironment(){a.a.sendTraceTag(574657350,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Navigator is missing in the JS environment")}logSendBeaconNotSupported(){a.a.sendTraceTag(573970625,l.a.msoulscat_Wac_Telemetry,n.a.Info,"SendBeacon not supported in current environment")}logBeaconURLIsEmpty(){a.a.sendTraceTag(573919702,l.a.msoulscat_Wac_Telemetry,n.a.Error,"We were passed an empty URL for sendBeacon")}logBeaconDataIsEmpty(){a.a.sendTraceTag(573907718,l.a.msoulscat_Wac_Telemetry,n.a.Error,"We were passed an empty data for sendBeacon")}logDocumentMissingInJsEnvironment(){a.a.sendTraceTag(573572181,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Document is not present in JS Environment")}logDocumentVisibilityStateMissingInJsEnvironment(){a.a.sendTraceTag(573572182,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Document VisibilityState is not present in JS Environment")}logDocumentAddEventListenerMissingInJsEnvironment(){a.a.sendTraceTag(573572183,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Document AddEventListener is not present in JS Environment")}logWindowAddEventListenerNotFound(){a.a.sendTraceTag(538710337,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Window AddEventListener is not present in JS Environment")}logPerformanceEventCountsNotSupported(){a.a.sendTraceTag(537522270,l.a.msoulscat_Wac_Telemetry,n.a.Warning,"Performance.EventCounts is not present in JS Environment")}logRemoveQueryParamsNotCalled(){a.a.sendTraceTag(527439250,l.a.msoulscat_Wac_Telemetry,n.a.Error,"Remove query params was not called before retrieve")}logWindowPerformanceEventCountsMissingInJSEnvironment(){a.a.sendTraceTag(525099864,l.a.msoulscat_Wac_Telemetry,n.a.Info,"window.performance.eventcounts was not present in the JS environment")}}class f{hasProperty(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckWindowProperty",r=>{if(null==window)return this.logger.logWindowMissingInJSEnvironment(),h.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});r.addProperty("PropertyNameChecked",e);const t=e in window;return r.addProperty("DoesPropertyExistOnWindow",t),h.generateOperationResult({didOperationSucceed:!0,result:t})},r).getResult()}constructor(e){this.logger=e}}class P{removeQueryParams(e){this.wasRemoveQueryParamsCalled=!0,this.queryParamsRemovedURL=e.split("?")[0]}retrieveQueryParamsRemovedURL(){return this.wasRemoveQueryParamsCalled?(this.wasRemoveQueryParamsCalled=!1,this.queryParamsRemovedURL):(this.logger.logRemoveQueryParamsNotCalled(),"")}constructor(e){this.logger=e,this.wasRemoveQueryParamsCalled=!1,this.queryParamsRemovedURL=""}}class S{getURLQueryParamsRemover(){return new P(new T)}}class C{open(e,r,t){this.xmlHTTPRequest.open(e,r,t)}send(e){this.xmlHTTPRequest.send(e)}constructor(){this.xmlHTTPRequest=new XMLHttpRequest}}class v{generateXMLHTTPRequestWrapper(){return new C}}class I{isBrowserChromiumBased(e){return function(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckChromiumBrowser",t=>{if(t.addProperty("UserAgent",e),0===e.localeCompare(""))return r.logEmptyUserAgentString(),h.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});const s=e.match(/(Chrome\/|CriOS\/)/g);return null!=e.match(/(CriOS\/)/g)&&r.logChromiumOnIOS(),null===s?(r.logBrowserUserAgentNotChromiumBased(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):h.generateOperationResult({didOperationSucceed:!0,result:!0})},t).getResult()}(e,this.logger)}parseChromeMajorVersionNumber(e){return function(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:-1});return p.startNew("ParseChromiumMajorVersionNumber",t=>{t.addProperty("UserAgent",e);const s=e.match(/((Chrome\/|CriOS\/)(\d|\.)+)/g);if(null==s)return r.logChromeNotPresentInUserAgent(),h.generateOperationResult({didOperationSucceed:!1,result:-1});const o=s[0].split("/");if(o.length<2)return r.logUnableToIsolateChromeInformationFromUserAgent(),h.generateOperationResult({didOperationSucceed:!1,result:-1});const i=o[1].split(".");if(i.length<4)return r.logUnableToExtractChromeVersionInformation(),h.generateOperationResult({didOperationSucceed:!1,result:-1});const a=i[0],l=parseInt(a,10);return isNaN(l)?(r.logUnableToParseChromeMajorVersionString(),h.generateOperationResult({didOperationSucceed:!1,result:-1})):(t.addProperty("MajorVersionNumber",l),h.generateOperationResult({didOperationSucceed:!0,result:l}))},t).getResult()}(e,this.logger)}constructor(e){this.logger=e}}class O{scheduleJobForIdleTime(e){!function(e,r,t,s){const o=h.generateOperationResult({didOperationSucceed:!1,result:{id:-1,underlyingMechanism:"InvalidUnderlyingMechanism"}});p.startNew("RequestIdleCallbackShim",()=>{if(r.hasProperty("requestIdleCallback")){const r=window.requestIdleCallback(e,void 0);return h.generateOperationResult({didOperationSucceed:!0,result:{id:r,underlyingMechanism:"requestIdleCallback"}})}t.logRequestIdleCallbackMissing();Date.now();return t.logCallbackBeingInvokedImmediately(),e(),h.generateOperationResult({didOperationSucceed:!0,result:{id:-1,underlyingMechanism:"InvalidUnderlyingMechanism"}})},o).getResult()}(()=>{e()},this.windowPropertyChecker,this.logger)}constructor(e,r){this.windowPropertyChecker=e,this.logger=r}}class b{static getIdleTimeJobScheduler(){const e=new T,r=new f(e);return new O(r,e)}}class k{setTimerJob(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("SetTimerJob",()=>null==window?(this.logger.logWindowMissingInJSEnvironment(),h.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):null==window.setTimeout?(this.logger.logWindowSetTimeOutMissingInJSEnvironment(),h.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):(window.setTimeout(e,r),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),t)}constructor(e){this.logger=e}}class M{isDocumentVisibleNow(){const e=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckDocumentVisibility",()=>{if(!this.isDocumentPresentInJsEnvironment())return this.logger.logDocumentMissingInJsEnvironment(),h.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});if(!this.isDocumentVisibilityStatePresentInJsEnvironment())return this.logger.logDocumentVisibilityStateMissingInJsEnvironment(),h.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});const e="hidden"!==document.visibilityState;return h.generateOperationResult({didOperationSucceed:!0,result:e})},e).getResult()}wasDocumentHiddenDuringTimeRange(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("WasDocumentHiddenDuringTimeRange",()=>{if(this.isDocumentHidden)return h.generateOperationResult({didOperationSucceed:!0,result:!0});if(void 0===this.lastUnHiddenDate)return h.generateOperationResult({didOperationSucceed:!0,result:!1});const r=Date.now()-this.lastUnHiddenDate<e;return h.generateOperationResult({didOperationSucceed:!0,result:r})},r).getResult()}isDocumentPresentInJsEnvironment(){return null!=document}isDocumentVisibilityStatePresentInJsEnvironment(){return"visibilityState"in document}isDocumentAddEventListenerPresentInJsEnvironment(){return"addEventListener"in document}updateIsHidden(){this.isDocumentHidden="hidden"===document.visibilityState,this.isDocumentHidden||(this.lastUnHiddenDate=Date.now())}constructor(e){this.logger=e,this.onVisibilityChange=()=>{this.updateIsHidden()},this.isDocumentPresentInJsEnvironment()||this.logger.logDocumentMissingInJsEnvironment(),this.isDocumentVisibilityStatePresentInJsEnvironment()||this.logger.logDocumentVisibilityStateMissingInJsEnvironment(),this.isDocumentAddEventListenerPresentInJsEnvironment()||this.logger.logDocumentAddEventListenerMissingInJsEnvironment(),this.lastUnHiddenDate=void 0,this.isDocumentHidden=!1,this.updateIsHidden(),document.addEventListener("visibilitychange",this.onVisibilityChange)}}class N{static getDocumentVisibilityChecker(){const e=new T;return new M(e)}}var x;!function(e){e.SendBeacon="sendBeacon"}(x||(x={}));class y{sendBeacon(e){return function(e,r,t,s,o,i){const a=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("SendBeaconCall",a=>{if(0===o.length)return s.logBeaconURLIsEmpty(),h.generateOperationResult({didOperationSucceed:!1,result:!1});if(0===i.length)return s.logBeaconDataIsEmpty(),h.generateOperationResult({didOperationSucceed:!1,result:!1});if(!e.hasProperty(x.SendBeacon)){s.logSendBeaconNotSupported();const e="POST",r=t.generateXMLHTTPRequestWrapper();return r.open(e,o,!0),r.send(i),a.addProperty("POSTRequestSent",!0),h.generateOperationResult({didOperationSucceed:!0,result:!0})}const l=r.sendBeacon(o,i);return a.addProperty("BeaconRequestSuccessfullyQueued",l),h.generateOperationResult({didOperationSucceed:!0,result:l})},a).getResult()}(this.navigatorPropertyChecker,this.navigatorAPI,this.xmlHTTPRequestWrapperFactory,this.logger,e.url,e.data)}constructor(e,r,t,s){this.navigatorPropertyChecker=e,this.navigatorAPI=r,this.xmlHTTPRequestWrapperFactory=t,this.logger=s}}class R{hasProperty(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckNavigatorProperty",r=>{if(null==navigator)return this.logger.logNavigatorMissingInJSEnvironment(),h.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});r.addProperty("NavigatorPropertyChecked",e);const t=e in navigator;return r.addProperty("IsPropertyPresentInNavigatorResult",t),h.generateOperationResult({didOperationSucceed:!0,result:t})},r).getResult()}constructor(e){this.logger=e}}class F{sendBeacon(e,r){return null==navigator?(this.logger.logNavigatorMissingInJSEnvironment(),!1):navigator.sendBeacon(e,r)}constructor(e){this.logger=e}}class E{getCurrentTimestamp(){if(null!=window)if(null!=window.performance){if(null!=window.performance.now)return window.performance.now();this.logger.logWindowPerformanceNowMissingInJSEnvironment()}else this.logger.logWindowPerformanceMissingInJSEnvironment();else this.logger.logWindowMissingInJSEnvironment()}constructor(e){this.logger=e}}class W{peek(){return this.elements.size>0?this.elements.get(this.dequeueIndex):void 0}queue(e){this.elements.set(this.queueIndex,e),this.queueIndex+=1}dequeue(){0!==this.elements.size&&(this.elements.delete(this.dequeueIndex),this.dequeueIndex+=1)}length(){return this.elements.size}constructor(){this.elements=new Map,this.queueIndex=0,this.dequeueIndex=0}}class _{static createQueue(){return new W}}class w{retrieveUserAgent(){const e=h.generateOperationResult({didOperationSucceed:!1,result:""});return p.startNew("RetrieveUserAgent",()=>{const e=this.getUserAgentFromNavigatorAPI();return h.generateOperationResult({didOperationSucceed:!0,result:e})},e).getResult()}getUserAgentFromNavigatorAPI(){return"undefined"==typeof navigator?(this.logger.logNavigatorMissingInJSEnvironment(),""):navigator.userAgent}constructor(e){this.logger=e,this.logger=e}}class U{peek(){const e=this.count();if(0!==e)return this.elements[e-1]}push(e){this.elements.push(e)}pop(){this.elements.pop()}count(){return this.elements.length}constructor(){this.elements=[]}}class L{static createStack(){return new U}}class B{generateGuid(){return""}}function A(){const e=new T;if(!window)return void e.logWindowMissingInJSEnvironment();if(!window.performance)return void e.logWindowPerformanceMissingInJSEnvironment();const r=window.performance.eventCounts;if(!r)return void e.logPerformanceEventCountsNotSupported();let t=0;return r.forEach(e=>t+=e),t}const J=["JSSelfProfilingAPI-Profile","TransformProfilerTrace","SendCallTrees","SerializeCallTreesArray","OnMessageReceivedFromWorker","useWebWorkForProfilerTraceProcessing","ProfilerWorkerOnMessage","StopManualProfilerInternal","StartFullSessionProfiler","StartManualProfiler","StartTimedProfiler","StartContinuousProfiler","StopContinuousProfiler","StopFullSessionProfiler","StopManualProfiler","StopTimedProfiler","StartManualProfilerInternal"];var D,z,V;!function(e){e[e.Manual=0]="Manual",e[e.Timed=1]="Timed",e[e.Continuous=2]="Continuous",e[e.FullSession=3]="FullSession"}(D||(D={})),function(e){e[e.ProfilerStopped=0]="ProfilerStopped",e[e.PreProfilerStart=1]="PreProfilerStart"}(z||(z={}));class G{getCustomProperties(){return this.customProperties}getResources(){return this.profilerTrace.resources}getFrames(){return this.profilerTrace.frames}getStacks(){return this.profilerTrace.stacks}getSamples(){return this.profilerTrace.samples}getSamplesTrimmed(){return this.getSamples().reduce((e,r)=>{const t=e.length>0&&void 0!==e[e.length-1].stackId;return(void 0!==r.stackId||t)&&e.push(r),e},[])}getProfilerTraceStartTimestamp(){return this.profilerTraceStartTimestamp}getProfilerProperties(){return this.profilerProperties}getElapsedProfilingTimeInMs(){return this.elapsedProfilingTime}constructor(e,r,t,s,o){this.customProperties=e,this.profilerTrace=r,this.profilerTraceStartTimestamp=t,this.profilerProperties=s,this.elapsedProfilingTime=o}}!function(e){e.Chrome="chrome"}(V||(V={}));const q={samplingIntervalInMs:-1},j={name:"InvalidFrameName",resourceId:-1,line:-1,column:-1},H={name:"EndOfSiblingChainFrame",resourceId:-1,line:-1,column:-1},$={obfuscatedName:"InvalidObfuscatedName",startTimeInMs:-1,frameOnlyRunTimeInMs:-1,subTreeRunTimeInMs:-1,totalExecutionTimeInMs:-1,hasChildrenNodes:!1,resourceInfo:{resourceName:"InvalidResourceName",lineNo:-1,columnNo:-1}},Q="00000000-0000-0000-0000-000000000000";function K(e,r,t){const s=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("SendProfilerEventToProfilerObservers",o=>(o.addProperty("ProfilerEventIdToSendToObservers",r.eventId),e.forEach((e,o)=>{-1!==e.indexOf(r.eventId)&&p.startNew("InvokeOnProfilerEventOnProfilerObserver",()=>(o.onProfilerEvent(r),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),s,t)}),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),s,t)}class Z{constructor(e,r){this.subscriber=e,this.subscriptionList=r,this.subscriberString="callTreeCustomFilterer"}}class X{constructor(e,r){this.subscriber=e,this.subscriptionList=r,this.subscriberString="customPropertiesRetriever"}}class Y{start(){const e=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("StartManualProfiler",()=>{const e=this.startProfilerImplementation();return h.generateOperationResult({didOperationSucceed:e,result:void 0})},e,this.logger)}startProfilerImplementation(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("StartManualProfilerInternal",r=>void 0!==this.profiler?(this.logger.logProfilerAlreadyStarted(),h.generateOperationResult({didOperationSucceed:!1,result:!1})):this.preProfilerStartChecker.shouldProfilingStart()?null==this.profilerInitOptions.maximumNumberOfSamplesToTake?(this.logger.logMaxBufferSizeNotFixed(),h.generateOperationResult({didOperationSucceed:!1,result:!1})):(r.addProperty("SamplingInterval",this.profilerInitOptions.samplingIntervalInMs),r.addProperty("MaxBufferSize",this.profilerInitOptions.maximumNumberOfSamplesToTake),K(this.profilerObserversToProfilerEventIds,{eventId:z.PreProfilerStart,eventData:void 0},this.logger),this.profiler=this.jsSelfProfilingAPI.createProfiler({sampleInterval:this.profilerInitOptions.samplingIntervalInMs,maxBufferSize:this.profilerInitOptions.maximumNumberOfSamplesToTake}),null==this.profiler?(this.logger.logBailingOutOnNullProfiler(),h.generateOperationResult({didOperationSucceed:!1,result:!1})):(this.preProfilerStartChecker.getShouldProcessProfileCapturedWhileUserIsIdle()||(this.documentEventsCountBeforeProfiling=A()),this.profilerStartTimestamp=this.timestampRetriever.getCurrentTimestamp(),null!=e&&e(!0),h.generateOperationResult({didOperationSucceed:!0,result:!0}))):(this.logger.logPreProfilerStartCheckFailed(),this.didPreProfilerStartChecksFail=!0,e&&e(!1),h.generateOperationResult({didOperationSucceed:!0,result:!0})),r,this.logger).getResult()}stop(){const e=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("StopManualProfiler",()=>{const e=this.stopProfilerImplementation();return h.generateOperationResult({didOperationSucceed:e,result:void 0})},e,this.logger)}stopProfilerImplementation(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("StopManualProfilerInternal",r=>{if(null==this.profiler){const e=!!this.didPreProfilerStartChecksFail;return this.didPreProfilerStartChecksFail=!1,this.logger.logProfilerInstanceIsUndefined(),h.generateOperationResult({didOperationSucceed:e,result:!1})}return this.profiler.stop().then(t=>{this.profilerStopTimestamp=this.timestampRetriever.getCurrentTimestamp(),this.profilerTrace=t;const s=this.customPropertiesExtractor.extractCustomProperties(this.customPropertiesRetriever);let o=-1;void 0!==this.profilerStartTimestamp&&void 0!==this.profilerStopTimestamp&&(o=this.profilerStopTimestamp-this.profilerStartTimestamp),r.addProperty("ElapsedProfilingTime",o);const i={profilerTrace:new G(s,this.profilerTrace,void 0!==this.profilerStartTimestamp?this.profilerStartTimestamp:-1,this.profilerInitOptions,o),callTreeCustomPropertiesRetrievers:this.callTreeCustomPropertiesRetrievers,documentEventsCountBeforeProfiling:this.documentEventsCountBeforeProfiling,callTreeCustomFilterers:this.callTreeCustomFilterers};this.profilerStartTimestamp=void 0,this.profilerStopTimestamp=void 0;const a={eventId:z.ProfilerStopped,eventData:i};K(this.profilerObserversToProfilerEventIds,a,this.logger),this.profiler=void 0,this.documentEventsCountBeforeProfiling=void 0,null!=e&&e()},e=>{this.logger.logProfilerStopPromiseRejected(e),this.profiler=void 0,this.profilerTrace=void 0}),h.generateOperationResult({didOperationSucceed:!0,result:!0})},r,this.logger).getResult()}subscribeProfilerObserver(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("SubscribeProfilerObserver",t=>{if(null==e)return this.logger.logNullOrUndefinedProfilerObserverPassedInForSubscribe(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(null==r)return this.logger.logNullOrUndefinedProfilerEventIds(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(t.addProperty("ProfilerEventIds",Array.from(r)),this.profilerObserversToProfilerEventIds.has(e)){const t=this.profilerObserversToProfilerEventIds.get(e);null==t?this.logger.logUnexpectedUndefinedProfilerEventIds():(r.forEach(e=>{t.push(e)}),this.profilerObserversToProfilerEventIds.set(e,Array.from(new Set(t))))}else this.profilerObserversToProfilerEventIds.set(e,Array.from(r));return h.generateOperationResult({didOperationSucceed:!0,result:void 0})},t,this.logger)}unsubscribeProfilerObserver(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("UnsubscribeProfilerObserver",t=>{if(null==e)return this.logger.logNullOrUndefinedProfilerObserverPassedInForUnsubscribe(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(null==r)return this.logger.logNullOrUndefinedProfilerEventToUnsubscribe(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(t.addProperty("ProfilerEventToUnsubscribe",r),!this.profilerObserversToProfilerEventIds.has(e))return this.logger.logProfilerObserverWasNeverSubscribed(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});const s=this.profilerObserversToProfilerEventIds.get(e);return null==s?(this.logger.logUnexpectedNullOrUndefinedSubscribedProfilerEventIds(),h.generateOperationResult({didOperationSucceed:!1,result:void 0})):-1===s.indexOf(r)?(this.logger.logProfilerObserverNeverSubscribedForProfilerEventId(r),h.generateOperationResult({didOperationSucceed:!1,result:void 0})):(this.profilerObserversToProfilerEventIds.set(e,s.filter(e=>e!==r)),h.generateOperationResult({didOperationSucceed:!0,result:void 0}))},t,this.logger)}subscribeCallTreeCustomPropertiesRetriever(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("SubscibeCallTreeCustomPropertiesRetriever",()=>this.subscribeToProfiler(new X(e,this.callTreeCustomPropertiesRetrievers)),r,this.logger)}unsubscribeCallTreeCustomPropertiesRetriever(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("UnsubscribeCallTreeCustomPropertiesRetriever",()=>this.unsubscribeFromProfiler(new X(e,this.callTreeCustomPropertiesRetrievers)),r,this.logger)}subscribeCallTreeCustomFilterer(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("subscribeCallTreeCustomFilterer",()=>this.subscribeToProfiler(new Z(e,this.callTreeCustomFilterers)),r,this.logger)}unsubscribeCallTreeCustomFilterer(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("unsubscribeCallTreeCustomFilterer",()=>this.unsubscribeFromProfiler(new Z(e,this.callTreeCustomFilterers)),r,this.logger)}subscribeToProfiler(e){return null==e.subscriber?(this.logger.logNullOrUndefinedItemToSubscribe(e.subscriberString),h.generateOperationResult({didOperationSucceed:!1,result:void 0})):(e.subscriptionList.push(e.subscriber),h.generateOperationResult({didOperationSucceed:!0,result:void 0}))}unsubscribeFromProfiler(e){if(null==e.subscriber)return this.logger.logNullOrUndefinedItemForUnsubscribe(e.subscriberString),h.generateOperationResult({didOperationSucceed:!1,result:void 0});const r=e.subscriptionList.indexOf(e.subscriber);return-1===r?(this.logger.logItemWasNeverSubscribed(e.subscriberString),h.generateOperationResult({didOperationSucceed:!1,result:void 0})):(e.subscriptionList.splice(r,1),h.generateOperationResult({didOperationSucceed:!0,result:void 0}))}constructor(e,r,t,s,o,i,a){this.preProfilerStartChecker=e,this.jsSelfProfilingAPI=r,this.profilerInitOptions=t,this.customPropertiesRetriever=s,this.timestampRetriever=o,this.customPropertiesExtractor=i,this.logger=a,this.profiler=void 0,this.profilerTrace=void 0,this.profilerStartTimestamp=void 0,this.profilerStopTimestamp=void 0,this.didPreProfilerStartChecksFail=!1,this.profilerObserversToProfilerEventIds=new Map,this.callTreeCustomPropertiesRetrievers=[],this.documentEventsCountBeforeProfiling=void 0,this.callTreeCustomFilterers=[]}}class ee extends Y{start(){const e=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("StartTimedProfiler",()=>(super.startProfilerImplementation(this.postProfilerStartCallback),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),e,this.logger)}stop(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("StopTimedProfiler",()=>(null==e||e||this.logger.logTimedProfilerIsBeingStoppedManually(),super.stopProfilerImplementation(),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),r,this.logger)}constructor(e,r,t,s,o,i,a,l){super(e,r,t,o,i,a,l),this.timerJobScheduler=s,this.postProfilerStartCallback=e=>{this.logger.logPostTimedStartProfilerStartCallbackInvoked(),null!=this.profilerInitOptions.profilingIntervalInMs?e&&(this.timerJobScheduler.setTimerJob(this.postTimerStopCallBack,this.profilerInitOptions.profilingIntervalInMs),this.logger.logTimerJobToStopProfilerSet()):this.logger.logProfilingIntervalIsUndefined()},this.postTimerStopCallBack=()=>{this.logger.logTimedProfilerStopCallbackInvoked(),this.stop(!0)}}}class re extends ee{start(){const e=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("StartContinuousProfiler",()=>(super.start(),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),e,this.logger)}stop(){const e=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("StopContinuousProfiler",()=>(super.stopProfilerImplementation(this.postProfilerStopCallback),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),e,this.logger)}constructor(){super(...arguments),this.postProfilerStartCallback=e=>{this.logger.logPostTimedStartProfilerStartCallbackInvoked(),this.profilerInitOptions.profilingIntervalInMs?e?(this.timerJobScheduler.setTimerJob(this.postTimerStopCallBack,this.profilerInitOptions.profilingIntervalInMs),this.logger.logTimerJobToStopProfilerSet()):(this.logger.logPostProfilerStopCallbackInvoked(),this.postProfilerStopCallback()):this.logger.logProfilingIntervalIsUndefined()},this.postProfilerStopCallback=()=>{null!=this.profilerInitOptions.idleIntervalInMs?this.timerJobScheduler.setTimerJob(this.profilerStopCallback,this.profilerInitOptions.idleIntervalInMs):this.logger.logNullOrUndefinedIdleInterval()},this.profilerStopCallback=()=>{this.start()}}}class te extends Y{start(){const e=h.generateOperationResult({didOperationSucceed:!1,result:void 0});return p.startNew("StartFullSessionProfiler",()=>(this.startProfilerImplementation(this.postProfilerStartCallback),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),e,this.logger).getResult()}stop(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});return p.startNew("StopFullSessionProfiler",()=>{let r=void 0;return void 0!==e&&e&&(r=this.postProfilerStopCallback),this.stopProfilerImplementation(r),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger).getResult()}constructor(e,r,t,s,o,i,a,l){super(e,r,t,o,i,a,l),this.timerJobScheduler=s,this.postProfilerStartCallback=e=>{this.timerJobScheduler.setTimerJob(()=>{e?this.stop(!0):this.start()},e?1e4:0)},this.postProfilerStopCallback=()=>{this.start()}}}class se{createProfiler(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:null});return p.startNew("JSSelfProfilingAPI-Profile",()=>{const r=new Profiler(e);return h.generateOperationResult({didOperationSucceed:!0,result:r})},r,this.logger).getResult()}constructor(e){this.logger=e}}class oe{shouldProfilingStart(){return!!this.isDocumentVisibleNow()||this.shouldProfilerStartInAHiddenDocument}getShouldProcessProfileCapturedWhileUserIsIdle(){return this.shouldProcessProfileCapturedWhileUserIsIdle}isDocumentVisibleNow(){return this.documentVisibilityChecker.isDocumentVisibleNow()}constructor(e,r,t){this.documentVisibilityChecker=e,this.shouldProfilerStartInAHiddenDocument=r,this.shouldProcessProfileCapturedWhileUserIsIdle=t}}class ie{extractCustomProperties(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:{}});return p.startNew("ExtractCustomProperties",()=>{const r={};if(null!=e&&"getCustomProperties"in e&&"function"==typeof e.getCustomProperties){const t=e.getCustomProperties(void 0);null!=t?t.forEach((e,t)=>{null==t?this.logger.logCustomPropertyKeyIsNull():null==e?this.logger.logCustomPropertyValueIsNull():r[t]=e}):this.logger.logNullOrUndefinedCustomProperties()}else this.logger.logNullOrUndefinedCustomPropertiesRetriever();return h.generateOperationResult({didOperationSucceed:!0,result:r})},r,this.logger).getResult()}extractCustomPropertiesV2(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:{}});return p.startNew("ExtractCustomPropertiesV2",()=>{const t={};if(null!=e&&"getCustomProperties"in e&&"function"==typeof e.getCustomProperties){const s=e.getCustomProperties(r);null!=s?s.forEach((e,r)=>{null==r?this.logger.logCustomPropertyKeyIsNull():null==e?this.logger.logCustomPropertyValueIsNull():t[r]=e}):this.logger.logNullOrUndefinedCustomProperties()}else this.logger.logNullOrUndefinedCustomPropertiesRetriever();return h.generateOperationResult({didOperationSucceed:!0,result:t})},t,this.logger).getResult()}constructor(e){this.logger=e}}class ae{static buildProfiler(e,r,t,o,i,a){const l=h.generateOperationResult({didOperationSucceed:!1,result:new s(a)});return p.startNew("BuildProfilerInstance",l=>{l.addProperty("ProfilerName",function(e,r){let t="";switch(e){case D.Manual:t="ManualProfiler";break;case D.Timed:t="TimedProfiler";break;case D.Continuous:t="ContinuousProfiler";break;case D.FullSession:t="FullSessionProfiler";break;default:r.logMissingProfilerNameForProfilerType(e),t="MissingProfilerName"}return t}(e,a)),l.addProperty("ProfilerInitOptions",{samplingIntervalInMs:r.samplingIntervalInMs,maximumNumberOfSamplesToTake:r.maximumNumberOfSamplesToTake,profilingIntervalInMs:r.profilingIntervalInMs,idleIntervalInMs:r.idleIntervalInMs});const n=N.getDocumentVisibilityChecker(),d=new oe(n,null!=i.shouldProfilingStartInAHiddenDocument&&i.shouldProfilingStartInAHiddenDocument,null==i.shouldProcessProfileCapturedWhileUserIsIdle||i.shouldProcessProfileCapturedWhileUserIsIdle),c=new se(a),u=class{static getTimerJobScheduler(){const e=new T;return new k(e)}}.getTimerJobScheduler(),g=class{static getTimestampRetriever(){const e=new T;return new E(e)}}.getTimestampRetriever(),m=new ie(a);let p=void 0,f=!1,P=!1,S=!1;const C=new Set;switch(C.add(z.ProfilerStopped),e){case D.Manual:{const e=new Y(d,c,r,t,g,m,a);e.subscribeProfilerObserver(o,C),S=!0,p=e,f=!0}break;case D.Timed:{const e=new ee(d,c,r,u,t,g,m,a);e.subscribeProfilerObserver(o,C),S=!0,p=e,f=!0}break;case D.Continuous:{const e=new re(d,c,r,u,t,g,m,a);e.subscribeProfilerObserver(o,C),S=!0,p=e,f=!0}break;case D.FullSession:{const e=new te(d,c,r,u,t,g,m,a);e.subscribeProfilerObserver(o,C),S=!0,p=e,f=!0}break;default:a.logMissingProfilerImplementation(e),p=new s(a),f=!1,P=!0}void 0===p&&a.logNoProfilerInstanceBuilt(),void 0===p||S||a.logCreateProfilerDidNotSubscribeProfilerObserver();const v=void 0===p?new s(a):p;return h.generateOperationResult({didOperationSucceed:f,result:v,didOperationFailUnexpectedly:P})},l,a).getResult()}}class le{createProfiler(e,r,t){const o=h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});return p.startNew("CreateProfiler",()=>{if(!this.validator.areValidationsSuccessful())return this.logger.logFailingValidationsInProfilerFactory(),h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});if(!this.optionsValidatorFactory.retrieveValidator(e).isValid(r))return this.logger.logProfilerInitOptionsValidationFailed(),h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});const o=this.profilerInitOptionsFixerFactory.getFixerForProfilerType(e);o.fixProfilerInitOptions(r);const i=o.retrieveFixedProfilerInitOptions();if(null==i)return this.logger.logUnableToFixUpProfilerInitOptions(),h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});if(this.numberOfProfilersCreated>=100)return this.logger.logMaxNumberOfProfilersAlreadyCreated(),h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});const a=ae.buildProfiler(e,i,t,this.profilerObserverFactory.createObserver(),this.packageInitOptions,this.logger);return this.numberOfProfilersCreated=this.numberOfProfilersCreated+1,h.generateOperationResult({didOperationSucceed:!0,result:a})},o,this.logger).getResult()}createProfilerV2(e,r,t){const o=h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});return p.startNew("CreateProfilerV2",()=>{if(!this.validator.areValidationsSuccessful())return this.logger.logFailingValidationsInProfilerFactory(),h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});if(!this.optionsValidatorFactory.retrieveValidator(e).isValid(r))return this.logger.logProfilerInitOptionsValidationFailed(),h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});const o=this.profilerInitOptionsFixerFactory.getFixerForProfilerType(e);o.fixProfilerInitOptions(r);const i=o.retrieveFixedProfilerInitOptions();if(null==i)return this.logger.logUnableToFixUpProfilerInitOptions(),h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});if(this.numberOfProfilersCreated>=100)return this.logger.logMaxNumberOfProfilersAlreadyCreated(),h.generateOperationResult({didOperationSucceed:!1,result:new s(this.logger)});const a=ae.buildProfiler(e,i,t,this.profilerObserverFactory.createObserver(),this.packageInitOptions,this.logger);return this.numberOfProfilersCreated=this.numberOfProfilersCreated+1,h.generateOperationResult({didOperationSucceed:!0,result:a})},o,this.logger).getResult()}constructor(e,r,t,s,o,i){this.validator=e,this.optionsValidatorFactory=r,this.profilerInitOptionsFixerFactory=t,this.profilerObserverFactory=s,this.packageInitOptions=o,this.logger=i,this.numberOfProfilersCreated=0}}class ne{areValidationsSuccessful(){const e=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckProfilerFactoryValidations",()=>this.isFeatureEnabled()?this.isSupportedEnvironmentForProfiling()?h.generateOperationResult({didOperationSucceed:!0,result:!0}):(this.logger.logProfilingIsNotSupportedEnvironment(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):(this.logger.logProfilingIsNotEnabled(),h.generateOperationResult({didOperationSucceed:!0,result:!1})),e,this.logger).getResult()}isFeatureEnabled(){return null==this.featureChecker?(this.logger.logFeatureCheckerIsNullOrUndefined(),!1):"isProfilingEnabled"in this.featureChecker?"function"!=typeof this.featureChecker.isProfilingEnabled?(this.logger.logFeatureCheckerIsProfilingEnabledNotAFunction(),!1):this.featureChecker.isProfilingEnabled():(this.logger.logMissingIsProfilingEnabledOnFeatureChecker(),!1)}isSupportedEnvironmentForProfiling(){return this.supportedEnvironmentChecker.isSupportedEnvironment()}constructor(e,r,t){this.featureChecker=e,this.supportedEnvironmentChecker=r,this.logger=t}}class de{isProfilingSupportedInJSEnvironment(){const e=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckSupportedBrowser",e=>{const r=this.userAgentRetriever.retrieveUserAgent();e.addProperty("UserAgent",r);const t=this.browserUtils.isBrowserChromiumBased(r);if(e.addProperty("isChromiumBasedBrowser",t),!t)return this.logger.logBrowserUserAgentNotChromiumBased(),h.generateOperationResult({didOperationSucceed:!0,result:!1});const s=this.browserUtils.parseChromeMajorVersionNumber(r);e.addProperty("ChromiumMajorVersionNumber",s);const o=s>=94;return e.addProperty("IsSupportedVersionOfChromiumBrowser",o),o?h.generateOperationResult({didOperationSucceed:!0,result:!0}):(this.logger.logUnsupportedChromiumMajorVersionNumber(),h.generateOperationResult({didOperationSucceed:!0,result:!1}))},e,this.logger).getResult()}constructor(e,r,t){this.userAgentRetriever=e,this.browserUtils=r,this.logger=t}}class ce{isSupportedEnvironment(){const e=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckSupportedEnvironment",()=>this.isSupportedBrowser()?this.shouldSkipSupportedOSCheck||this.isSupportedOperatingSystem()?this.isJSSelfProfilingAPIAvailable()?h.generateOperationResult({didOperationSucceed:!0,result:!0}):(this.logger.logJSSelfProfilingAPIUnavailable(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):(this.logger.logUnsupportedOperatingSystem(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):(this.logger.logUnsupportedBrowser(),h.generateOperationResult({didOperationSucceed:!0,result:!1})),e,this.logger).getResult()}isSupportedBrowser(){return this.supportedBrowserChecker.isProfilingSupportedInJSEnvironment()}isSupportedOperatingSystem(){return this.supportedOperatingSystemChecker.isSupportedOperatingSystem()}isJSSelfProfilingAPIAvailable(){return this.jsSelfProfilingAPIAvailabilityChecker.isJSSelfProfilingAPIAvailable()}constructor(e,r,t,s,o){this.supportedBrowserChecker=e,this.supportedOperatingSystemChecker=r,this.jsSelfProfilingAPIAvailabilityChecker=t,this.shouldSkipSupportedOSCheck=s,this.logger=o}}class ue{isSupportedOperatingSystem(){const e=h.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:!1});return p.startNew("SupportedOperatingSystemCheck",()=>{const e=this.isOperatingSystemWindows();return h.generateOperationResult({didOperationSucceed:!0,result:e})},e,this.logger).getResult()}isOperatingSystemWindows(){return this.userAgentRetriever.retrieveUserAgent().toLowerCase().includes("win")}constructor(e,r){this.userAgentRetriever=e,this.logger=r}}class ge{isJSSelfProfilingAPIAvailable(){const e=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckForJSSelfProfilingAPI",()=>null==window?(this.logger.logWindowMissingInJSEnvironment(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):"Profiler"in window?h.generateOperationResult({didOperationSucceed:!0,result:!0}):(this.logger.logProfilerNotPresentInJSEnvironment(),h.generateOperationResult({didOperationSucceed:!0,result:!1})),e,this.logger).getResult()}constructor(e){this.logger=e}}class me{isSupportedEnvironment(){return this.logger.logNullSupportedEnvironmentCheckerInvoked(),!1}constructor(e){this.logger=e}}class pe{isValid(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckSamplingInterval",r=>null==e?(this.logger.logProfilerInitOptionsNullOrUndefined(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):(r.addProperty("SamplingIntervalToValidate",e.samplingIntervalInMs),e.samplingIntervalInMs<=0?(this.logger.logSamplingIntervalIsLessThanOrEqualToZero(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):this.convertToMicroSeconds(e.samplingIntervalInMs)>2147483647?(this.logger.logSamplingIntervalAboveMaxSamplingInterval(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.samplingIntervalInMs<16&&this.logger.logSamplingIntervalLessThanMinimumSupportedSamplingInterval(e.samplingIntervalInMs,16),h.generateOperationResult({didOperationSucceed:!0,result:!0}))),r,this.logger).getResult()}convertToMicroSeconds(e){return 1e3*e}constructor(e){this.logger=e}}class he extends pe{isValid(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckMaxBufferSizeIfSpecified",()=>null==e?(this.logger.logProfilerInitOptionsNullOrUndefined(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):super.isValid(e)?this.isMaxBufferSizeValidIfSpecified(e)?h.generateOperationResult({didOperationSucceed:!0,result:!0}):(this.logger.logMaxBufferValidationFailed(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):(this.logger.logSamplingIntervalValidationCheckFailed(),h.generateOperationResult({didOperationSucceed:!0,result:!1})),r,this.logger).getResult()}isMaxBufferSizeValidIfSpecified(e){return null==e.maximumNumberOfSamplesToTake?(this.logger.logMaxBufferSizeNotSpecified(),!0):!(e.maximumNumberOfSamplesToTake<=0&&(this.logger.logMaxBufferSizeLessThanOrEqualToZero(),1))}}class Te extends he{isValid(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckProfilingIntervalIfSpecified",()=>null==e?(this.logger.logProfilerInitOptionsNullOrUndefined(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):super.isValid(e)?this.isProfilingIntervalValid(e)?this.isProfilingIntervalGreaterThanSamplingInterval(e)?h.generateOperationResult({didOperationSucceed:!0,result:!0}):h.generateOperationResult({didOperationSucceed:!0,result:!1}):(this.logger.logProfilingIntervalValidationFailed(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):(this.logger.logManualProfilerValidationFailed(),h.generateOperationResult({didOperationSucceed:!0,result:!1})),r,this.logger).getResult()}isProfilingIntervalValid(e){return null==e.profilingIntervalInMs?(this.logger.logProfilingIntervalNullOrUndefined(),!1):!(e.profilingIntervalInMs<=0&&(this.logger.logProfilingIntervalLessThanOrEqualToZero(),1))}isProfilingIntervalGreaterThanSamplingInterval(e){return null==e.profilingIntervalInMs?(this.logger.logProfilingIntervalNullOrUndefined(),!1):!(e.profilingIntervalInMs<e.samplingIntervalInMs&&(this.logger.logProfilingIntervalLessThanSamplingInterval(),1))}}class fe extends Te{isValid(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:!1});return p.startNew("CheckIdleIntervalIfSpecified",()=>null==e?(this.logger.logProfilerInitOptionsNullOrUndefined(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):super.isValid(e)?this.isIdleIntervalInValid(e)?h.generateOperationResult({didOperationSucceed:!0,result:!0}):(this.logger.logIdleIntervalValidationFailed(),h.generateOperationResult({didOperationSucceed:!0,result:!1})):(this.logger.logTimedProfilerValidationFailed(),h.generateOperationResult({didOperationSucceed:!0,result:!1})),r,this.logger).getResult()}isIdleIntervalInValid(e){return null==e.idleIntervalInMs?(this.logger.logIdleIntervalIsNullOrUndefined(),!1):!(e.idleIntervalInMs<=0&&(this.logger.logIdleIntervalIsLessThanOrEqualToZero(),1))}}class Pe{isValid(e){return this.logger.logNullJSCPUProfilerInitOptionsValidatorInvoked(),!1}constructor(e){this.logger=e}}class Se{retrieveValidator(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:new Pe(this.logger)});return p.startNew("RetrieveValidator",r=>{switch(r.addProperty("ProfilerType",e),e){case D.Manual:return h.generateOperationResult({didOperationSucceed:!0,result:new he(this.logger)});case D.Timed:return h.generateOperationResult({didOperationSucceed:!0,result:new Te(this.logger)});case D.Continuous:return h.generateOperationResult({didOperationSucceed:!0,result:new fe(this.logger)});case D.FullSession:return h.generateOperationResult({didOperationSucceed:!0,result:new pe(this.logger)});default:return r.addLog("Missing validator implementation for profiler type"),h.generateOperationResult({didOperationSucceed:!1,result:new pe(this.logger),didOperationFailUnexpectedly:!0})}},r,this.logger).getResult()}constructor(e){this.logger=e}}class Ce{fixProfilerInitOptions(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("FixMaxBufferSize",()=>null==e?(this.logger.logNullOrUndefinedProfilerInitOptions(),h.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):(this.fixedProfilerInitOptions=e,null==this.fixedProfilerInitOptions.maximumNumberOfSamplesToTake&&(this.logger.logMaxBufferSizeFixedToDefaultSize(),this.fixedProfilerInitOptions.maximumNumberOfSamplesToTake=2e5),this.didProfilerInitOptionsGetFixed=!0,h.generateOperationResult({didOperationSucceed:!0,result:void 0})),r,this.logger)}retrieveFixedProfilerInitOptions(){return this.didProfilerInitOptionsGetFixed?this.didProfilerInitOptionsGetFixed=!1:this.logger.logMaxBufferSizeWasNotFixedBeforeRetrieval(),this.fixedProfilerInitOptions}constructor(e){this.logger=e,this.didProfilerInitOptionsGetFixed=!1,this.fixedProfilerInitOptions=void 0}}class ve{fixProfilerInitOptions(e){this.logger.logLoopBackFixerFixProfilerInitOptionsInvoked(),null!=e&&(this.profilerInitOptionsToLoopBack=e)}retrieveFixedProfilerInitOptions(){return this.logger.logLoopBackFixerRetrieveFixedProfilerInitOptionsInvoked(),this.profilerInitOptionsToLoopBack}constructor(e){this.logger=e,this.profilerInitOptionsToLoopBack=void 0}}class Ie{getFixerForProfilerType(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:new ve(this.logger)});return p.startNew("GetFixerForProfileType",()=>{this.logger.logFixerForProfilerType(e);let r=new ve(this.logger),t=!1;switch(e){case D.Manual:case D.Timed:case D.Continuous:case D.FullSession:t=!0,r=new Ce(this.logger);break;default:this.logger.logMissingProfilerInitOptionsFixerImplementation()}return h.generateOperationResult({didOperationSucceed:t,result:r})},r,this.logger).getResult()}constructor(e){this.logger=e}}class Oe{createProfiler(e,r,t){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new s(this.logger)}createProfilerV2(e,r,t){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new s(this.logger)}constructor(e){this.logger=e}}class be{filterFrames(){}retrieveFrameFilteredCallTree(){return new Me}}class ke{getNext(){}hasMore(){return!1}}class Me{getReconstructibleTreeIterator(){return new ke}getDepthFirstIterator(){return new ke}getNodesToMergeIterator(){return new ke}getRightMostNodesIterator(){return new ke}getTotalExecutionTimeInMs(){return-1}getCustomProperties(){return{}}getTreeId(){return Q}getFramesFilterer(e){return new be}}class Ne{transform(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("TransformProfilerTrace",r=>{this.profilerTrace=e,this.traceToCallTreesConverter.buildCallTrees(this.profilerTrace);const t=this.traceToCallTreesConverter.retrieveBuiltCallTrees();r.addProperty("BuiltCallTreesCount",t.length);const s=t.filter(e=>!(e instanceof Me)).length;r.addProperty("NonEmptyCallTreesCount",s),this.callTreesMerger.mergeCallTrees(t);const o=this.callTreesMerger.retrieveMergedCallTrees();r.addProperty("MergedCallTreesCount",o.length),this.callTreesFilterer.filterCallTrees(o,this.callTreeFilteringThresholdInMs);const i=this.callTreesFilterer.retrieveFilteredCallTrees();return r.addProperty("FilteredCallTreesCount",i.length),this.callTreesToReturn=i,this.callTreesFramesFilterer.filterCallTrees(i,this.frameTotalExecutionTimeFilteringThresholdInMs),r.addProperty("FrameFilteredCallTreesCount",this.callTreesToReturn.length),this.transformCalledBeforeRetrieveCallTrees=!0,h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger)}retrieveCallTrees(){const e=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("RetrieveCallTrees",()=>this.transformCalledBeforeRetrieveCallTrees?(this.transformCalledBeforeRetrieveCallTrees=!1,h.generateOperationResult({didOperationSucceed:!0,result:this.callTreesToReturn})):(this.logger.logRetrieveCallTreesCalledBeforeTransform(),h.generateOperationResult({didOperationSucceed:!1,result:[]})),e,this.logger).getResult()}constructor(e,r,t,s,o,i,a){this.traceToCallTreesConverter=e,this.callTreesMerger=r,this.callTreesFilterer=t,this.callTreeFilteringThresholdInMs=s,this.callTreesFramesFilterer=o,this.frameTotalExecutionTimeFilteringThresholdInMs=i,this.logger=a,this.transformCalledBeforeRetrieveCallTrees=!1,this.profilerTrace=void 0,this.callTreesToReturn=[]}}class xe{buildCallTrees(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("BuildCallTrees",()=>{this.didBuildCallTreesGetCalledBeforeRetrieve=!0,this.stacksBuilder.buildStacks(e);const r=this.stacksBuilder.retrieveStacks(),t=e.getCustomProperties();return this.stacksToCallTreesConverter.convertStacksToCallTrees(t,r),this.callTrees=this.stacksToCallTreesConverter.retrieveConvertedCallTrees(),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger)}retrieveBuiltCallTrees(){const e=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("RetrieveBuiltCallTrees",()=>this.didBuildCallTreesGetCalledBeforeRetrieve?(this.didBuildCallTreesGetCalledBeforeRetrieve=!1,h.generateOperationResult({didOperationSucceed:!0,result:this.callTrees})):(this.logger.logRetrieveBuiltCallTreesBeforeBuildCallTrees(),h.generateOperationResult({didOperationSucceed:!1,result:[]})),e,this.logger).getResult()}constructor(e,r,t){this.stacksBuilder=e,this.stacksToCallTreesConverter=r,this.logger=t,this.didBuildCallTreesGetCalledBeforeRetrieve=!1,this.callTrees=[]}}class ye{peek(){}pop(){}}class Re{peek(){const e=this.profilerFrames.length;if(0!==e)return this.profilerFrames[e-1]}pop(){this.profilerFrames.pop()}push(e){this.profilerFrames.push(e)}constructor(){this.profilerFrames=[]}}class Fe{addChildNode(e){this.childrenNodes.push(e),e.setParentNode(this)}getFrameOnlyExecutionTimeInMs(){const e=this.getSubTreeExecutionTimeInMs();return this.shouldRecordExpandedTimeStamps?this.totalExecutionTime-e:this.trimTimeStamp(this.totalExecutionTime-e)}getSubTreeExecutionTimeInMs(){let e=0;return this.childrenNodes.forEach(r=>{e+=r.getTotalExecutionTimeInMs()}),e<0&&this.logger.logNegativeSubTreeExecutionTime(),e}getTotalExecutionTimeInMs(){return this.shouldRecordExpandedTimeStamps?this.totalExecutionTime:this.trimTimeStamp(this.totalExecutionTime)}getFrame(){return this.profilerFrame}getChildrenNodes(){return this.childrenNodes}removeChildNode(e){e.setParentNode(void 0),this.childrenNodes=this.childrenNodes.filter(r=>r!==e)}getStartTimeInMs(){return this.shouldRecordExpandedTimeStamps?this.startTime:this.trimTimeStamp(this.startTime)}getLastObservedTimestamp(){return this.shouldRecordExpandedTimeStamps?this.lastObservedTimestamp:this.trimTimeStamp(this.lastObservedTimestamp)}getResourceName(){return this.resourceName}getParentNode(){return this.parentNode}setParentNode(e){this.parentNode=e}setTotalExecutionTime(e){e<0&&this.logger.logInvalidNewFrameNodeExecutionTime(),this.totalExecutionTime=e}setLastObservedTimestamp(e){this.lastObservedTimestamp=e}trimTimeStamp(e){return Number.parseFloat(e.toFixed(2))}getCount(){return this.count}getFrameOnlyCount(){if(void 0===this.count)return;const e=this.childrenNodes.reduce((e,r)=>e+r.getCount(),0);return this.count-e}addCount(e){this.recordFrameCount&&void 0!==e&&(this.count+=e)}constructor(e,r,t,s,o,i,a,l,n){this.profilerFrame=e,this.startTime=r,this.totalExecutionTime=t,this.lastObservedTimestamp=s,this.resourceName=o,this.shouldRecordExpandedTimeStamps=i,this.parentNode=a,this.recordFrameCount=l,this.logger=n,this.childrenNodes=[],r<0&&this.logger.logInvalidFrameNodeStartTime(),t<0&&this.logger.logInvalidFrameNodeExecutionTime(),this.recordFrameCount&&(this.count=1)}}class Ee{peek(){this.logger.logPeekOnNullExecutionStackInvoked()}pop(){this.logger.logPopOnNullExecutionStackInvoked()}constructor(e){this.logger=e}}class We{buildStack(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("BuildStack",r=>{if(this.buildStackCalled=!0,null==e.stackId){this.builtStack=new ye;const e="EmptyStackBuilt";return r.addProperty(e,!0),h.generateOperationResult({didOperationSucceed:!0,result:void 0})}const t=this.profilerTrace.getStacks();if(0===t.length)return this.logger.logEmptyStacks(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});const s=this.profilerTrace.getFrames();if(0===s.length)return this.logger.logEmptyFrames(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});const o=new Re;let i=e.stackId,a=0,l=!1;const n=[];for(;;){if(a>t.length){this.logger.logForciblyExitingLoopWhileBuildingStack(),l=!0;break}a+=1;const e=t[i],r=s[e.frameId];if(n.unshift(r),null==e.parentId)break;i=e.parentId}const d=e.timestamp,c=d,u=this.profilerTrace.getResources();return n.forEach(e=>{const r=new Fe(e,d,0,c,u[e.resourceId],this.shouldRecordExpandedTimeStamps,void 0,this.shouldRecordFrameCounts,this.logger);o.push(r)}),l?h.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:void 0}):(this.builtStack=o,h.generateOperationResult({didOperationSucceed:!0,result:void 0}))},r,this.logger,!0)}retrieveStack(){const e=h.generateOperationResult({didOperationSucceed:!1,result:new Ee(this.logger)});return p.startNew("RetrieveStack",()=>this.buildStackCalled?void 0===this.builtStack?(this.logger.logExecutionStackNeverBuilt(),h.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:new Ee(this.logger)})):(this.buildStackCalled=!1,h.generateOperationResult({didOperationSucceed:!0,result:this.builtStack})):(this.logger.logRetrieveStackCalledBeforeBuildStack(),h.generateOperationResult({didOperationSucceed:!1,result:new Ee(this.logger)})),e,this.logger,!0).getResult()}constructor(e,r,t,s){this.profilerTrace=e,this.logger=r,this.shouldRecordExpandedTimeStamps=t,this.shouldRecordFrameCounts=s,this.buildStackCalled=!1,this.builtStack=void 0}}class _e{buildStacks(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("BuildStacks",()=>{this.buildStacksCalled=!0;const r=e.getSamples();let t=this.sampleSorter.sortSamples(r);const s=e.getProfilerProperties().profilingIntervalInMs;return null==s||this.shouldKeepSamplesOutsideOfProfilingInterval||(this.sampleFilterer.filterSamples(t,s),t=this.sampleFilterer.retrieveFilteredSamples()),this.builtExecutionStacks=this.samplesToStacks(t,e),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger)}retrieveStacks(){const e=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("RetrieveStacks",()=>this.buildStacksCalled?void 0===this.builtExecutionStacks?h.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:[]}):(this.buildStacksCalled=!1,h.generateOperationResult({didOperationSucceed:!0,result:this.builtExecutionStacks})):(this.logger.logRetrieveStacksCalledBeforeBuildStacks(),h.generateOperationResult({didOperationSucceed:!1,result:[]})),e,this.logger).getResult()}samplesToStacks(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("ConvertSamplesToStacks",()=>{const t=[],s=new We(r,this.logger,this.shouldRecordExpandedTimeStamps,this.shouldRecordFrameCounts);return e.forEach(e=>{s.buildStack(e),t.push(s.retrieveStack())}),h.generateOperationResult({didOperationSucceed:!0,result:t})},t,this.logger).getResult()}constructor(e,r,t,s,o,i){this.sampleSorter=e,this.sampleFilterer=r,this.shouldKeepSamplesOutsideOfProfilingInterval=t,this.shouldRecordExpandedTimeStamps=s,this.logger=o,this.shouldRecordFrameCounts=i,this.buildStacksCalled=!1,this.builtExecutionStacks=void 0}}class we{sortSamples(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("SortSamples",()=>{const r=e.sort(this.sortSampleByTimestamp);return h.generateOperationResult({didOperationSucceed:!0,result:r})},r,this.logger).getResult()}constructor(e){this.logger=e,this.sortSampleByTimestamp=(e,r)=>{const t=h.generateOperationResult({didOperationSucceed:!1,result:0});return p.startNew("CustomSampleSort",()=>e.timestamp>r.timestamp?h.generateOperationResult({didOperationSucceed:!0,result:1}):r.timestamp>e.timestamp?h.generateOperationResult({didOperationSucceed:!0,result:-1}):h.generateOperationResult({didOperationSucceed:!0,result:0}),t,this.logger,!0).getResult()}}}class Ue{removeChildNode(e){}addChildNode(e){}getFrameOnlyExecutionTimeInMs(){return-1}getSubTreeExecutionTimeInMs(){return-1}getTotalExecutionTimeInMs(){return-1}getFrame(){return j}getChildrenNodes(){return[]}getStartTimeInMs(){return-1}getLastObservedTimestamp(){return-1}getResourceName(){return"InvalidResourceName"}getParentNode(){}setParentNode(e){}setTotalExecutionTime(e){}setLastObservedTimestamp(e){}getCount(){return 0}getFrameOnlyCount(){return 0}addCount(e){}constructor(e){this.logger=e,this.logger.logNullFrameNodeCreated()}}class Le{getNext(){return this.logger.logNullCallTreeIteratorImplGetNextInvoked(),new Ue(this.logger)}hasMore(){return this.logger.logNullCallTreeIteratorImplHasMoreInvoked(),!1}constructor(e){this.logger=e}}class Be{filterFrames(){this.logger.logNullCallTreeFramesFiltererFilterFramesInvoked()}retrieveFrameFilteredCallTree(){return this.logger.logNullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked(),new Ae(this.logger)}constructor(e){this.logger=e}}class Ae{getReconstructibleTreeIterator(){return this.logger.logNullCallTreeGetReconstructableTreeIteratorInvoked(),new Le(this.logger)}getDepthFirstIterator(){return this.logger.logNullCallTreeDepthFirstIteratorInvoked(),new Le(this.logger)}getNodesToMergeIterator(){return this.logger.logNullCallTreeLeftMostNodesIteratorInvoked(),new Le(this.logger)}getRightMostNodesIterator(){return this.logger.logNullCallTreeRightMostNodesIteratorInvoked(),new Le(this.logger)}getTotalExecutionTimeInMs(){return this.logger.logNullCallTreeGetTotalExecutionTimeInvoked(),-1}getCustomProperties(){return this.logger.logNullCallTreeGetCustomPropertiesInvoked(),{}}getTreeId(){return Q}getFramesFilterer(){return this.logger.logNullCallTreeGetFramesFiltererInvoked(),new Be(this.logger)}constructor(e){this.logger=e}}function Je(e,r){return e.name===r.name&&e.resourceId===r.resourceId&&e.line===r.line&&e.column===r.column}class De{removeChildNode(e){}addChildNode(e){}getFrameOnlyExecutionTimeInMs(){return-1}getSubTreeExecutionTimeInMs(){return-1}getTotalExecutionTimeInMs(){return 0}getFrame(){return j}getChildrenNodes(){return[]}getStartTimeInMs(){return-1}getLastObservedTimestamp(){return-1}getResourceName(){return"InvalidResourceName"}getParentNode(){return this.parentNode}setParentNode(e){this.parentNode=e}setTotalExecutionTime(e){}setLastObservedTimestamp(e){}getCount(){return 0}getFrameOnlyCount(){return 0}addCount(e){}constructor(){}}class ze{getNext(){const e=this.nodesToIterate.peek();if(void 0===e)return;this.nodesToIterate.pop();const r=e.getChildrenNodes();for(let e=r.length-1;e>=0;e-=1)Je(r[e].getFrame(),j)||this.nodesToIterate.push(r[e]);return e}hasMore(){return 0!==this.nodesToIterate.count()}constructor(e){this.nodesToIterate=L.createStack(),e instanceof De||this.nodesToIterate.push(e)}}class Ve{getNext(){const e=this.nodesToIterate.peek();if(void 0===e)return;const r=e.getChildrenNodes();return r.length>1&&this.logger.logExpectedOnlyOneNodePerLevelInCallTree(),this.nodesToIterate.queue(r[0]),this.nodesToIterate.dequeue(),e}hasMore(){return void 0!==this.nodesToIterate.peek()}constructor(e,r){this.logger=r,this.nodesToIterate=_.createQueue(),this.nodesToIterate.queue(e)}}class Ge{getNext(){const e=this.nodesToIterate.peek();if(void 0===e)return;const r=e.getChildrenNodes();return r.length>0&&this.nodesToIterate.queue(r[r.length-1]),this.nodesToIterate.dequeue(),e}hasMore(){return void 0!==this.nodesToIterate.peek()}constructor(e){this.nodesToIterate=_.createQueue(),this.nodesToIterate.queue(e)}}class qe{filterFrames(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});return p.startNew("FilterCallTreeFrames",()=>{const r=this.callTree.getDepthFirstIterator();let t=void 0;for(;r.hasMore();)t=r.getNext(),void 0!==t&&this.filterFrame(t,e);return h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger).getResult()}filterFrame(e,r){if(e.getTotalExecutionTimeInMs()<=r){const r=e.getParentNode();if(!r)return void this.logger.logFilterFrameWithNoParent();r.removeChildNode(e)}}constructor(e,r){this.callTree=e,this.logger=r}}class je{addChildNode(e){}getFrame(){return H}getChildrenNodes(){return[]}removeChildNode(e){}getResourceName(){return"InvalidResourceName"}getParentNode(){}setParentNode(e){}setTotalExecutionTime(e){}setLastObservedTimestamp(e){}getFrameOnlyExecutionTimeInMs(){return-1}getSubTreeExecutionTimeInMs(){return-1}getTotalExecutionTimeInMs(){return-1}getStartTimeInMs(){return-1}getLastObservedTimestamp(){return-1}getCount(){return 0}getFrameOnlyCount(){return 0}addCount(e){}}class He{getNext(){const e=this.nodesToIterate.peek();if(void 0===e)return;this.nodesToIterate.pop();const r=e.getChildrenNodes();r.length>0&&this.nodesToIterate.push(new je);for(let e=r.length-1;e>=0;e-=1)Je(r[e].getFrame(),j)||this.nodesToIterate.push(r[e]);return e}hasMore(){return 0!==this.nodesToIterate.count()}constructor(e){this.nodesToIterate=L.createStack(),e instanceof De||this.nodesToIterate.push(e)}}class $e{getReconstructibleTreeIterator(){return p.startNew("GetReconstructibleTreeIterator",()=>h.generateOperationResult({didOperationSucceed:!0,result:new He(this.rootNode)}),this.fallbackResult,this.logger).getResult()}getDepthFirstIterator(){return p.startNew("GetDepthFirstIterator",()=>h.generateOperationResult({didOperationSucceed:!0,result:new ze(this.rootNode)}),this.fallbackResult,this.logger).getResult()}getNodesToMergeIterator(){return p.startNew("GetCallTreeLeftMostNodesIterator",()=>h.generateOperationResult({didOperationSucceed:!0,result:new Ve(this.rootNode,this.logger)}),this.fallbackResult,this.logger,!0).getResult()}getRightMostNodesIterator(){return p.startNew("GetCallTreeRightMostNodesIterator",()=>h.generateOperationResult({didOperationSucceed:!0,result:new Ge(this.rootNode)}),this.fallbackResult,this.logger,!0).getResult()}getTotalExecutionTimeInMs(){return this.rootNode.getTotalExecutionTimeInMs()}getCustomProperties(){return this.customProperties}getTreeId(){return this.callTreeId}getFramesFilterer(){return new qe(this,this.logger)}constructor(e,r,t,s){this.rootNode=e,this.customProperties=r,this.callTreeId=t,this.logger=s,this.fallbackResult=h.generateOperationResult({didOperationSucceed:!1,result:new Le(this.logger)})}}class Qe{convertStackToCallTree(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("ConvertStackToCallTree",()=>(this.convertedCallTree=this.buildCallTree(e),this.isConvertCalled=!0,h.generateOperationResult({didOperationSucceed:!0,result:void 0})),r,this.logger,!0)}retrieveCallTree(){const e=h.generateOperationResult({didOperationSucceed:!1,result:new Ae(this.logger)});return p.startNew("RetrieveCallTree",()=>this.isConvertCalled?(this.isConvertCalled=!1,h.generateOperationResult({didOperationSucceed:!0,result:this.convertedCallTree})):(this.logger.logConvertStackToCallTreeNeverCalled(),h.generateOperationResult({didOperationSucceed:!1,result:new Ae(this.logger)})),e,this.logger,!0).getResult()}buildCallTree(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:new Ae(this.logger)});return p.startNew("BuildCallTree",r=>{const t=[];for(;;){const r=e.peek();if(void 0===r)break;t.unshift(r),e.pop()}if(0===t.length)return r.addLog("No profiler frames were extracted. Returning null call tree"),h.generateOperationResult({didOperationSucceed:!0,result:new Me});let s=0;t.forEach((e,r)=>{if(s=r+1,s===t.length)return;const o=t[s];e.addChildNode(o)});const o=t[0],i=class{static getGuidGenerator(){return new B}}.getGuidGenerator().generateGuid();return h.generateOperationResult({didOperationSucceed:!0,result:new $e(o,this.customProperties,i,this.logger)})},r,this.logger,!0).getResult()}constructor(e,r){this.customProperties=e,this.logger=r,this.isConvertCalled=!1,this.convertedCallTree=new Ae(this.logger)}}class Ke{convertStacksToCallTrees(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("ConvertStacksToCallTrees",()=>(this.convertStacksCalled=!0,this.customProperties=e,this.callTrees=this.convertToCallTrees(r),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),t,this.logger)}retrieveConvertedCallTrees(){const e=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("RetrieveConvertedCallTrees",()=>this.convertStacksCalled?(this.convertStacksCalled=!1,h.generateOperationResult({didOperationSucceed:!0,result:this.callTrees})):(this.logger.logConvertStacksToCallTreesNeverCalled(),h.generateOperationResult({didOperationSucceed:!1,result:[]})),e,this.logger).getResult()}convertToCallTrees(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("ConvertToCallTrees",()=>{const r=[],t=new Qe(this.customProperties,this.logger);return e.forEach(e=>{t.convertStackToCallTree(e),r.push(t.retrieveCallTree())}),h.generateOperationResult({didOperationSucceed:!0,result:r})},r,this.logger).getResult()}constructor(e){this.logger=e,this.convertStacksCalled=!1,this.callTrees=[],this.customProperties={}}}function Ze(e,r,t){const s=h.generateOperationResult({didOperationSucceed:!1,result:{wasMergeSuccessful:!1,mergedCallTree:e}});return p.startNew("MergeTwoTrees",t=>{const s=e.getRightMostNodesIterator(),o=r.getNodesToMergeIterator();if(!s.hasMore()||!o.hasMore()){const r="CurrentCallTreeIteratorEmptyProperty";t.addProperty(r,!s.hasMore());const i="CallTreeToMergeIteratorEmptyProperty";return t.addProperty(i,!o.hasMore()),h.generateOperationResult({didOperationSucceed:!0,result:{mergedCallTree:e,wasMergeSuccessful:!1}})}let i=0,a=void 0,l=void 0,n=void 0,d=!0;for(;s.hasMore()&&o.hasMore();){if(a=s.getNext(),l=o.getNext(),void 0===a||void 0===l||!Je(a.getFrame(),l.getFrame())){d=!1;break}{const e=a.getTotalExecutionTimeInMs()+(l.getLastObservedTimestamp()-a.getLastObservedTimestamp());a.setTotalExecutionTime(e),a.setLastObservedTimestamp(l.getLastObservedTimestamp()),a.addCount(l.getCount()),n=a,i+=1}}if(t.addProperty("MergeLength",i),0===i){const r="UnableToMerge";return t.addProperty(r,!0),h.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!1,mergedCallTree:e}})}if(void 0===a&&void 0===l){const r="FullMerge";return t.addProperty(r,!0),h.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!0,mergedCallTree:e}})}if(s.hasMore()&&!o.hasMore()&&void 0!==n){const r="TallerLeftCallTree";return t.addProperty(r,!0),n.addChildNode(new De),h.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!0,mergedCallTree:e}})}const c=void 0!==a&&void 0!==l&&!Je(a.getFrame(),l.getFrame())&&void 0!==n,u=!s.hasMore()&&o.hasMore()&&void 0!==n;if(c||u){if(c){const e="PartialMergeOfHeightBalancedCallTrees";t.addProperty(e,!0)}if(u){const e="TallerRightCallTreeMerge";t.addProperty(e,!0),d&&(l=o.getNext())}void 0!==n&&void 0!==l&&n.addChildNode(l)}return h.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:i>0,mergedCallTree:e}})},s,t,!0).getResult()}class Xe{mergeCallTrees(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("MergeCallTrees",()=>{if(e.length<2)return this.mergedCallTrees=e,h.generateOperationResult({didOperationSucceed:!0,result:void 0});this.didMergeCallTreesGetCalled=!0,this.mergedCallTrees=[];let r=0,t=1,s=!1;for(;t<e.length;){const o=e[r];s=Ze(o,e[t],this.logger).wasMergeSuccessful,s||(this.mergedCallTrees.push(o),r=t),t+=1}return s?this.mergedCallTrees.push(e[r]):this.mergedCallTrees.push(e[t-1]),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger)}retrieveMergedCallTrees(){return this.didMergeCallTreesGetCalled?(this.didMergeCallTreesGetCalled=!1,this.mergedCallTrees):[]}constructor(e){this.logger=e,this.mergedCallTrees=[],this.didMergeCallTreesGetCalled=!1}}class Ye{filterCallTrees(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:void 0});return p.startNew("FilterCallTrees",t=>(this.filterCallTreesCalled=!0,this.filteredCallTreesToReturn=[],t.addProperty("FilteringThresholdInMs",r),t.addProperty("NumberOfCallTreesPresent",e.length),e.forEach(e=>{e.getTotalExecutionTimeInMs()>r&&this.filteredCallTreesToReturn.push(e)}),t.addProperty("NumberOfCallTreesFiltered",this.filteredCallTreesToReturn.length),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),t,this.logger).getResult()}retrieveFilteredCallTrees(){const e=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("RetrieveFilteredCallTrees",()=>this.filterCallTreesCalled?(this.filterCallTreesCalled=!1,h.generateOperationResult({didOperationSucceed:!0,result:this.filteredCallTreesToReturn})):h.generateOperationResult({didOperationSucceed:!1,result:[]}),e,this.logger).getResult()}constructor(e){this.logger=e,this.filteredCallTreesToReturn=[],this.filterCallTreesCalled=!1}}class er{filterSamples(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("FilterSamples",()=>{if(this.didFilterSamplesGetCalled=!0,this.filteredSamples=[],0===e.length)return this.logger.logEmptySamplesArrayPassedToFilter(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});const t=e[0];for(const s of e){if(s.timestamp-t.timestamp>r)break;this.filteredSamples.push(s)}return h.generateOperationResult({didOperationSucceed:!0,result:void 0})},t,this.logger)}retrieveFilteredSamples(){return this.didFilterSamplesGetCalled?(this.didFilterSamplesGetCalled=!1,this.filteredSamples):[]}constructor(e){this.logger=e,this.didFilterSamplesGetCalled=!1,this.filteredSamples=[]}}class rr{serializeCallTree(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("SeriallizeCallTree",()=>{this.serializedCallTree={serializedFrames:[],totalExecutionTimeForTreeInMs:0,propertyBag:{}};const r=this.shouldMakeSerializedCallTreesFullyReconstructible?e.getReconstructibleTreeIterator():e.getDepthFirstIterator();let t=void 0;for(;r.hasMore();)t=r.getNext(),void 0!==t&&this.serializedCallTree.serializedFrames.push(this.onVisit(t));return this.serializedCallTree.totalExecutionTimeForTreeInMs=e.getTotalExecutionTimeInMs(),this.serializedCallTree.propertyBag=e.getCustomProperties(),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger)}onVisit(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:$});return p.startNew("VisitNodeInCallTree",()=>{var r;const t={obfuscatedName:null!==(r=e.getFrame().name)&&void 0!==r?r:"",startTimeInMs:e.getStartTimeInMs(),frameOnlyRunTimeInMs:e.getFrameOnlyExecutionTimeInMs(),subTreeRunTimeInMs:e.getSubTreeExecutionTimeInMs(),totalExecutionTimeInMs:e.getTotalExecutionTimeInMs(),hasChildrenNodes:e.getChildrenNodes().length>0,resourceInfo:{resourceName:this.shouldCompressSerializedCallTrees?this.resourceUrlKeyRetriever(e.getResourceName()):e.getResourceName(),lineNo:e.getFrame().line,columnNo:e.getFrame().column},frameOnlyCount:e.getFrameOnlyCount(),totalCount:e.getCount()};return h.generateOperationResult({didOperationSucceed:!0,result:t})},r,this.logger,!1).getResult()}retrieveSerializedTree(){return this.serializedCallTree}constructor(e,r,t,s){this.shouldMakeSerializedCallTreesFullyReconstructible=e,this.shouldCompressSerializedCallTrees=r,this.resourceUrlKeyRetriever=t,this.logger=s,this.serializedCallTree=void 0}}class tr{serializeCallTrees(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("SerializeCallTreesArray",()=>{const r=new rr(this.shouldMakeSerializedCallTreesFullyReconstructible,this.shouldCompressSerializedCallTrees,this.resourceUrlKeyRetriever.bind(this),this.logger),t=e.map(e=>(r.serializeCallTree(e),r.retrieveSerializedTree()));return this.serializationResult={serializedCallTrees:t,resourceUrlsCompressionDictionary:Array.from(this.resourceUrlsCompressionDictionary,([e,r])=>({url:e,index:r}))},h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger)}retrieveSerializedTrees(){return this.serializationResult}resourceUrlKeyRetriever(e){if(this.resourceUrlsCompressionDictionary.has(e))return this.resourceUrlsCompressionDictionary.get(e);const r=this.resourceUrlKeyIndex.toString();return this.resourceUrlsCompressionDictionary.set(e,r),this.resourceUrlKeyIndex++,r}constructor(e,r,t){this.shouldMakeSerializedCallTreesFullyReconstructible=e,this.shouldCompressSerializedCallTrees=r,this.logger=t,this.resourceUrlKeyIndex=0,this.resourceUrlsCompressionDictionary=new Map,this.serializationResult={serializedCallTrees:[],resourceUrlsCompressionDictionary:[]}}}class sr{processTrace(e){this.profilerTraceTransformer.transform(e);const r=this.profilerTraceTransformer.retrieveCallTrees();this.serializer.serializeCallTrees(r),this.serializedCallTrees=this.serializer.retrieveSerializedTrees()}retrieveSerializedCallTrees(){return this.serializedCallTrees}constructor(e,r){this.profilerTraceTransformer=e,this.serializer=r,this.serializedCallTrees={resourceUrlsCompressionDictionary:[],serializedCallTrees:[]}}}class or{isWebWorkerAPIAvailable(){return!!this.windowPropertyChecker.hasProperty("Worker")}constructor(e){this.windowPropertyChecker=e}}var ir,ar,lr;!function(e){e[e.ProcessTrace=0]="ProcessTrace",e[e.TraceProcessingComplete=1]="TraceProcessingComplete",e[e.ErrorEncounteredInWorker=2]="ErrorEncounteredInWorker"}(ir||(ir={}));class nr{startWorker(e){if(this.workerStarted)return this.logger.logWebWorkerAlreadyStarted(),!0;const r=new Blob([`try{importScripts('${encodeURI(e)}');}catch(e){self.postMessage({id: ${ir.ErrorEncounteredInWorker}, data: {error: e}}); }`],{type:"application/javascript"}),t=new Worker(URL.createObjectURL(r));return t?(this.worker=t,this.workerStarted=!0,this.worker.addEventListener("message",this.onMessageReceived),this.worker.onerror=this.errorHandler,!0):(this.logger.logUnableToBootWebWorker(),!1)}processTrace(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("ProfilerTraceProcessingWorkerImplProcessTrace",()=>{if(!this.worker)return this.logger.logWorkerInstanceNotFound(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(this.workerCurrentlyProcessingTrace)return this.pendingTracesToProcess.queue(e),h.generateOperationResult({didOperationSucceed:!0,result:void 0});this.workerCurrentlyProcessingTrace=!0,this.currentTraceBeingProcessed=e;const r={id:ir.ProcessTrace,data:e.traceProcessingInfo};return this.worker.postMessage(r),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger)}terminateWorker(){this.worker?(this.worker.terminate(),this.worker=void 0,this.workerStarted=!1,this.logger.logWebWorkerTerminated()):this.logger.logWorkerInstanceNotFound()}handleLogMessageFromWorker(e){this.logMessageProcessor.processLogMessage(e)}getDeObfuscationRequestPropertiesAndQueryParams(){const e=new ie(this.logger);return[e.extractCustomProperties(this.jsCPUProfilingPackageInitOptions.deObfuscationRequestBodyPropertiesRetriever),e.extractCustomProperties(this.jsCPUProfilingPackageInitOptions.deObfuscationRequestQueryParamsRetriever)]}processNextStoredProfilerTraceIfAny(){if(this.pendingTracesToProcess.length()>0){const e=this.pendingTracesToProcess.peek();void 0!==e&&(this.processTrace(e),this.pendingTracesToProcess.dequeue())}}constructor(e,r,t){this.jsCPUProfilingPackageInitOptions=e,this.logMessageProcessor=r,this.logger=t,this.errorHandler=e=>{const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("ProfilerTraceProcessingWorkerImplErrorHandler",()=>{if(this.logger.logWebWorkerError(e.message),null==this.currentTraceBeingProcessed)return this.logger.logCurrentTraceBeingProcessedNullOrUndefined(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(null==this.currentTraceBeingProcessed.traceProcessingErrorCallback)return this.logger.logWebWorkerErrorCallbackNotRegistered(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(null==this.currentTraceBeingProcessed.traceProcessingInfo)return this.logger.logWebWorkerTraceProcessingInfoMissingToReturnOnError(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});const[r,t]=this.getDeObfuscationRequestPropertiesAndQueryParams();return this.currentTraceBeingProcessed.traceProcessingErrorCallback(this.currentTraceBeingProcessed.traceProcessingInfo,r,t,this.currentTraceBeingProcessed.callTreeCustomPropertiesRetrievers,this.currentTraceBeingProcessed.callTreeCustomFilterers),this.workerCurrentlyProcessingTrace=!1,this.currentTraceBeingProcessed=void 0,this.processNextStoredProfilerTraceIfAny(),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger)},this.onMessageReceived=e=>{const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("OnMessageReceivedFromWorker",r=>{const t=e.data;if(!("id"in t))return this.logger.logIdNotFoundInMessageFromWorker(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(!("data"in t))return this.logger.logDataNotFoundInMessageFromWorker(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(r.addProperty("MessageReceived",t.id),null==this.currentTraceBeingProcessed)return this.logger.logCurrentTraceBeingProcessedNullOrUndefined(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});switch(t.id){case ir.TraceProcessingComplete:{const e=t.data;if(!("serializedCallTrees"in e))return this.logger.logSerializedCallTreesMissingInProcessorResult(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(!("logs"in e))return this.logger.logLogsMissingInProcessorResult(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});const r=e;if(void 0===this.currentTraceBeingProcessed.traceProcessingCompletionCallback)return this.logger.logUndefinedWebWorkerCompletionCallback(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});r.logs.forEach(e=>{this.handleLogMessageFromWorker(e)});const[s,o]=this.getDeObfuscationRequestPropertiesAndQueryParams();this.currentTraceBeingProcessed.traceProcessingCompletionCallback(r.serializedCallTrees,s,o,this.currentTraceBeingProcessed.callTreeCustomPropertiesRetrievers,this.currentTraceBeingProcessed.callTreeCustomFilterers,r.resourceUrlsCompressionDictionary)}break;case ir.ErrorEncounteredInWorker:{const e=t.data;if("logs"in e&&e.logs.forEach(e=>{this.handleLogMessageFromWorker(e)}),"error"in e&&this.logger.logErrorFromWorker(e.error),void 0===this.currentTraceBeingProcessed.traceProcessingErrorCallback)return this.logger.logUndefinedErrorCallback(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(void 0===this.currentTraceBeingProcessed.traceProcessingInfo)return this.logger.logUndefinedTraceProcessingInfoToReturnBack(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});const[r,s]=this.getDeObfuscationRequestPropertiesAndQueryParams();this.currentTraceBeingProcessed.traceProcessingErrorCallback(this.currentTraceBeingProcessed.traceProcessingInfo,r,s,this.currentTraceBeingProcessed.callTreeCustomPropertiesRetrievers,this.currentTraceBeingProcessed.callTreeCustomFilterers),this.terminateWorker()}break;default:this.logger.logUnknownMessageFromWorker(t.id)}return this.workerCurrentlyProcessingTrace=!1,this.currentTraceBeingProcessed=void 0,this.processNextStoredProfilerTraceIfAny(),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.logger)},this.worker=void 0,this.workerStarted=!1,this.pendingTracesToProcess=_.createQueue(),this.workerCurrentlyProcessingTrace=!1,this.currentTraceBeingProcessed=void 0}}class dr{getProfilerTraceProcessingWorker(e){return new nr(this.jsCPUProfilingPackageInitOptions,this.logMessageProcessor,this.logger)}constructor(e,r,t){this.jsCPUProfilingPackageInitOptions=e,this.logMessageProcessor=r,this.logger=t}}class cr{sendCallTreeToService(e,r,t,s){const o=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("SendIndividualCallTree",o=>{o.addProperty("compressedCallTree",this.shouldCompressSerializedCallTrees);let i="";if(this.shouldCompressSerializedCallTrees){const r={resourceUrlsCompressionDictionary:s,serializedCallTree:e,propertyBag:t};i=JSON.stringify(r)}else{const r={serializedCallTree:e,propertyBag:t};i=JSON.stringify(r)}if(this.shouldUseSendBeaconForSendingCallTrees)this.sendBeaconScheduler.sendBeacon({url:r,data:i});else{const e=this.xmlHTTPRequestWrapperFactory.generateXMLHTTPRequestWrapper();e.open("POST",r,!0),e.send(i)}return h.generateOperationResult({didOperationSucceed:!0,result:void 0})},o,this.logger)}constructor(e,r,t,s,o){this.sendBeaconScheduler=e,this.xmlHTTPRequestWrapperFactory=r,this.shouldUseSendBeaconForSendingCallTrees=t,this.shouldCompressSerializedCallTrees=s,this.logger=o}}class ur{sendCallTrees(e,r,t,s){const o=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("SendMultipleCallTrees",o=>{o.addProperty("compressedCallTrees",this.shouldCompressSerializedCallTrees);let i="";if(this.shouldCompressSerializedCallTrees){const r={resourceUrlsCompressionDictionary:s,serializedCallTrees:e,propertyBag:t};i=JSON.stringify(r)}else{const r={serializedCallTrees:e,propertyBag:t};i=JSON.stringify(r)}if(this.shouldUseSendBeaconForSendingCallTrees)this.sendBeaconScheduler.sendBeacon({url:r,data:i});else{const e=this.xmlHTTPRequestWrapperFactory.generateXMLHTTPRequestWrapper();e.open("POST",r,!0),e.send(i)}return h.generateOperationResult({didOperationSucceed:!0,result:void 0})},o,this.logger)}constructor(e,r,t,s,o){this.sendBeaconScheduler=e,this.xmlHTTPRequestWrapperFactory=r,this.shouldUseSendBeaconForSendingCallTrees=t,this.shouldCompressSerializedCallTrees=s,this.logger=o}}class gr{sendCallTreesToService(e,r,t,s,o){const i=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("SendCallTrees",i=>{i.addProperty("NumberOfCallTreesToSend",e.length);const a=function(e,r){let t=e;return Object.entries(r).forEach((e,r)=>{0===r?t.includes("?")?t+="&":t+="?":t+="&";const[s,o]=e;t+=`${s}=${o}`}),t}(r,t);return this.shouldSendAllCallTreesFromProfileInASingleRequest?this.sendAllCallTreesInASingleRequest(e,a,s,o):this.sendCallTreesIndividually(e,a,s,o),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},i,this.logger)}sendCallTreesIndividually(e,r,t,s){const o=new cr(this.sendBeaconScheduler,this.xmlHTTPRequestWrapperFactory,this.shouldUseSendBeaconForSendingCallTrees,this.shouldCompressSerializedCallTrees,this.logger);e.forEach(e=>{o.sendCallTreeToService(e,r,t,s)})}sendAllCallTreesInASingleRequest(e,r,t,s){new ur(this.sendBeaconScheduler,this.xmlHTTPRequestWrapperFactory,this.shouldUseSendBeaconForSendingCallTrees,this.shouldCompressSerializedCallTrees,this.logger).sendCallTrees(e,r,t,s)}constructor(e,r,t,s,o,i){this.sendBeaconScheduler=e,this.shouldSendAllCallTreesFromProfileInASingleRequest=r,this.xmlHTTPRequestWrapperFactory=t,this.shouldUseSendBeaconForSendingCallTrees=s,this.shouldCompressSerializedCallTrees=o,this.logger=i}}class mr{filterCallTrees(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:void 0});return p.startNew("FilterCallTreesFrames",()=>(e.forEach(e=>{e.getFramesFilterer(r).filterFrames(r)}),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),t,this.logger).getResult()}constructor(e){this.logger=e}}class pr{getCustomProperties(){return this.logger.logGetCustomPropertiesCalledOnNullJSCPUProfilerTrace(),{}}getResources(){return this.logger.logGetResourcesCalledOnNullJSCPUProfilerTrace(),[]}getFrames(){return this.logger.logGetFramesCalledOnNullJSCPUProfilerTrace(),[]}getStacks(){return this.logger.logGetStacksCalledOnNullJSCPUProfilerTrace(),[]}getSamples(){return this.logger.logGetSamplesCalledOnNullJSCPUProfilerTrace(),[]}getSamplesTrimmed(){return[]}getProfilerTraceStartTimestamp(){return this.logger.logGetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace(),-1}getProfilerProperties(){return this.logger.logGetProfilerPropertiesCalledOnNullJSCPUProfilerTrace(),q}getElapsedProfilingTimeInMs(){return this.logger.logElapsedProfilingTimeMissingInTrace(),-1}constructor(e){this.logger=e}}class hr{removeQueryParamsFromResourceURLs(e){this.wasRemoveQueryParamsFromResourceURLsCalled=!0;const r=e.getResources(),t=[];r.forEach(e=>{this.urlQueryParamsRemover.removeQueryParams(e),t.push(this.urlQueryParamsRemover.retrieveQueryParamsRemovedURL())}),this.outputProfilerTrace=new G(e.getCustomProperties(),{samples:e.getSamples(),frames:e.getFrames(),resources:t,stacks:e.getStacks()},e.getProfilerTraceStartTimestamp(),e.getProfilerProperties(),e.getElapsedProfilingTimeInMs())}retrieveQueryParamsRemovedProfile(){return this.wasRemoveQueryParamsFromResourceURLsCalled?(this.wasRemoveQueryParamsFromResourceURLsCalled=!1,this.outputProfilerTrace):(this.logger.logRemoveQueryParamsFromResourceURLsNeverCalled(),new pr(this.logger))}constructor(e,r){this.urlQueryParamsRemover=e,this.logger=r,this.wasRemoveQueryParamsFromResourceURLsCalled=!1,this.outputProfilerTrace=new pr(r)}}class Tr{mergeCustomProperties(e){const r={};return e.forEach(e=>{for(const[t,s]of Object.entries(e))r[t]=s}),r}}class fr{onProfilerEvent(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("OnProfilerEvent",r=>{if(null==e)return this.params.logger.logNullOrUndefinedProfilerEvent(),h.generateOperationResult({didOperationSucceed:!1,result:void 0});switch(r.addProperty("ProfilerEventId",e.eventId),e.eventId){case z.ProfilerStopped:null==e.eventData?this.params.logger.logNullOrUndefinedProfilerTrace():this.onProfilerStopped(e.eventData);break;default:this.params.logger.logUnknownProfilerEventId(e.eventId)}return h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.params.logger)}onProfilerStopped(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("OnProfilerStopped",()=>{const r=e.profilerTrace.getProfilerProperties().profilingIntervalInMs;if(null!=r&&this.params.documentVisibilityChecker.wasDocumentHiddenDuringTimeRange(r)&&!this.params.shouldProcessProfileCapturedInAHiddenDocument)return this.params.logger.logNotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling(),h.generateOperationResult({didOperationSucceed:!0,result:void 0});if(!this.params.shouldProcessProfileCapturedWhileUserIsIdle&&e.documentEventsCountBeforeProfiling&&A()===e.documentEventsCountBeforeProfiling)return this.params.logger.logNotProcessingCapturedTraceDueToUserBeingIdle(),h.generateOperationResult({didOperationSucceed:!0,result:void 0});this.params.shouldKeepQueryParamsInResourceURLs||(this.params.profileResourceURLsQueryParamsRemover.removeQueryParamsFromResourceURLs(e.profilerTrace),e.profilerTrace=this.params.profileResourceURLsQueryParamsRemover.retrieveQueryParamsRemovedProfile()),this.params.shouldLogRawProfilerTrace&&this.params.logger.logProfilerTrace(e.profilerTrace,this.params.profilerTraceLoggingChunkSize);const t=this.params.customPropertiesExtractor.extractCustomProperties(this.params.deObfuscationRequestBodyPropertiesRetriever),s=this.params.customPropertiesExtractor.extractCustomProperties(this.params.deObfuscationRequestQueryParamsRetriever);return this.params.shouldProcessProfileInMainEventLoop?this.useMainEventLoopForProfilerTraceProcessing(e,t,s):this.useWebWorkForProfilerTraceProcessing(e,t,s),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},r,this.params.logger)}useMainEventLoopForProfilerTraceProcessing(e,r,t){this.params.shouldSendProfilesForDeobfuscationImmediately?this.processAndSendTrace(e,r,t):this.params.idleTimeJobScheduler.scheduleJobForIdleTime(()=>{this.processAndSendTrace(e,r,t)})}extractAndMergeCallTreeCustomProperties(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("ExtractAndMergeCallTreeCustomProperties",()=>{const t=new ie(this.params.logger),s=new Tr;return e.forEach(e=>{const o=[];r.forEach(r=>{o.push(t.extractCustomPropertiesV2(r,e.serializedFrames[0]))}),o.push(e.propertyBag);const i=s.mergeCustomProperties(o);e.propertyBag=i}),h.generateOperationResult({didOperationSucceed:!0,result:e})},t,this.params.logger).getResult()}applyCallTreeCustomFiltering(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:[]});return p.startNew("ApplyCallTreeCustomFilterers",()=>{let t=e;r.forEach(e=>{t=t.filter(r=>e.filter(r))});const s=e.length-t.length;return this.params.logger.logNumberOfCallTreesFiltererByCustomFilterers(s,e.length),h.generateOperationResult({didOperationSucceed:!0,result:t})},t,this.params.logger).getResult()}useWebWorkForProfilerTraceProcessing(e,r,t){const s=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("useWebWorkForProfilerTraceProcessing",()=>{if(!this.params.webWorkerAPIAvailabilityChecker.isWebWorkerAPIAvailable())return this.params.logger.logWebWorkerAPINotAvailable(),this.useMainEventLoopForProfilerTraceProcessing(e,r,t),h.generateOperationResult({didOperationSucceed:!1,result:void 0});if(this.profilerTraceProcessingWorker||(this.profilerTraceProcessingWorker=this.params.profilerTraceProcessingWorkerFactory.getProfilerTraceProcessingWorker(this.params.webWorkerSourceURL)),!this.profilerTraceProcessingWorker.startWorker(this.params.webWorkerSourceURL))return this.useMainEventLoopForProfilerTraceProcessing(e,r,t),h.generateOperationResult({didOperationSucceed:!1,result:void 0});const s={traceProcessingInfo:{trace:e.profilerTrace,shouldKeepSamplesOutsideOfProfilingInterval:this.params.shouldKeepSamplesOutsideOfProfilingInterval,shouldRecordExpandedTimeStamps:this.params.shouldRecordExpandedTimeStamps,callTreeFilteringThresholdInMs:this.params.callTreeFilteringThresholdInMs,frameTotalExecutionTimeFilteringThresholdInMs:this.params.frameTotalExecutionTimeFilteringThresholdInMs,operationLogMessageFilteringCriteria:this.params.operationLogMessageFilteringCriteria,traceId:this.profilerTraceIdNumber,shouldMakeSerializedCallTreesFullyReconstructible:this.params.shouldMakeSerializedCallTreesFullyReconstructible,shouldRecordFrameCounts:this.params.shouldRecordFrameCounts,shouldCompressSerializedCallTrees:this.params.shouldCompressSerializedCallTrees},traceProcessingCompletionCallback:this.webWorkerOnCompleteCallback,traceProcessingErrorCallback:this.webWorkerOnErrorCallback,callTreeCustomPropertiesRetrievers:e.callTreeCustomPropertiesRetrievers,callTreeCustomFilterers:e.callTreeCustomFilterers};return this.profilerTraceIdNumber+=1,this.profilerTraceProcessingWorker.processTrace(s),h.generateOperationResult({didOperationSucceed:!0,result:void 0})},s,this.params.logger)}constructor(e){this.params=e,this.processAndSendTrace=(e,r,t)=>{this.params.traceProcessor.processTrace(e.profilerTrace);const s=this.params.traceProcessor.retrieveSerializedCallTrees();let o=s.serializedCallTrees;o=this.extractAndMergeCallTreeCustomProperties(o,e.callTreeCustomPropertiesRetrievers),e.callTreeCustomFilterers.length>0&&(o=this.applyCallTreeCustomFiltering(o,e.callTreeCustomFilterers)),this.params.serializedCallTreesToJSONStringsConverter.convertToJSONStrings(o);const i=this.params.serializedCallTreesToJSONStringsConverter.retrieveConvertedJSONStrings();this.logSerializedCallTrees(i),this.sendCallTrees(i,r,t,s.resourceUrlsCompressionDictionary)},this.webWorkerOnCompleteCallback=(e,r,t,s,o,i)=>{let a=this.extractAndMergeCallTreeCustomProperties(e,s);o.length>0&&(a=this.applyCallTreeCustomFiltering(a,o)),this.params.serializedCallTreesToJSONStringsConverter.convertToJSONStrings(a);const l=this.params.serializedCallTreesToJSONStringsConverter.retrieveConvertedJSONStrings();this.logSerializedCallTrees(l),this.sendCallTrees(l,r,t,i)},this.webWorkerOnErrorCallback=(e,r,t,s,o)=>{this.useMainEventLoopForProfilerTraceProcessing({profilerTrace:e.trace,callTreeCustomPropertiesRetrievers:s,callTreeCustomFilterers:o},r,t)},this.logSerializedCallTrees=e=>{this.params.shouldLogSerializedCallTrees&&e.forEach(e=>{this.params.logger.logSerializedCallTrees(e)})},this.sendCallTrees=(e,r,t,s)=>{this.params.shouldSendSerializedCallTreesToServer&&(0!==e.length?this.params.callTreesSender.sendCallTreesToService(e,this.params.deObfuscationInfo.deObfuscationEndpoint,t,r,s):this.params.logger.logNoCallTreesToSend())},this.profilerTraceIdNumber=1}}class Pr{createObserver(){return new fr(this.observerInitParams)}constructor(e){this.observerInitParams=e}}class Sr{convertToJSONString(e){this.convertedJSONString=JSON.stringify(this.shouldCompressSerializedCallTrees?this.convertSerializedCallTreeToCompressedCallTree(e):e)}retrieveConvertedJSONString(){if(null==this.convertedJSONString)return this.logger.logConvertToJSONStringWasNeverCalled(),"BadSerializedCallTreeJSONString";const e=this.convertedJSONString;return this.convertedJSONString=void 0,e}convertSerializedCallTreeToCompressedCallTree(e){return{0:e.serializedFrames.map(e=>({0:e.startTimeInMs,1:e.frameOnlyRunTimeInMs,2:e.subTreeRunTimeInMs,3:e.totalExecutionTimeInMs,4:e.obfuscatedName,5:e.hasChildrenNodes,6:{0:e.resourceInfo.resourceName,1:e.resourceInfo.lineNo,2:e.resourceInfo.columnNo},7:e.frameOnlyCount,8:e.totalCount})),1:e.totalExecutionTimeForTreeInMs,2:e.propertyBag}}constructor(e,r){this.shouldCompressSerializedCallTrees=e,this.logger=r,this.convertedJSONString=void 0}}class Cr{convertToJSONStrings(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:void 0});p.startNew("ConvertSerializedCallTreesToJSONStrings",()=>(this.convertedJSONStrings=e.map(e=>{const r=new Sr(this.shouldCompressSerializedCallTrees,this.logger);return r.convertToJSONString(e),r.retrieveConvertedJSONString()}),h.generateOperationResult({didOperationSucceed:!0,result:void 0})),r)}retrieveConvertedJSONStrings(){return null==this.convertedJSONStrings?[]:this.convertedJSONStrings}constructor(e,r){this.shouldCompressSerializedCallTrees=e,this.logger=r,this.convertedJSONStrings=[]}}class vr{retrieveProfilerFactory(){const e=h.generateOperationResult({didOperationSucceed:!0,result:new Oe(this.logger)});return p.startNew("RetrieveProfilerFactory",()=>{var e,r,t,s,o,i,a,l,n,d,c,u,g,m,p,P,C,I,O,k,M,x;const E=null!==(e=this.jsCPUProfilingPackageInitOptions.shouldSkipSupportedOSCheck)&&void 0!==e&&e,W=this.getSupportedEnvironmentChecker(E),_=new ne(this.featureChecker,W,this.logger),w=new Se(this.logger),U=new Ie(this.logger),L={deObfuscationEndpoint:null!==(r=this.jsCPUProfilingPackageInitOptions.deObfuscationEndpoint)&&void 0!==r?r:""},B=new we(this.logger),A=new er(this.logger),D=null!==(t=this.jsCPUProfilingPackageInitOptions.shouldKeepSamplesOutsideOfProfilingInterval)&&void 0!==t&&t,z=null!==(s=this.jsCPUProfilingPackageInitOptions.shouldRecordExpandedTimeStamps)&&void 0!==s&&s,V=null!==(o=this.jsCPUProfilingPackageInitOptions.shouldRecordFrameCounts)&&void 0!==o&&o,G=null!==(i=this.jsCPUProfilingPackageInitOptions.shouldLogRawProfilerTrace)&&void 0!==i&&i,q=this.jsCPUProfilingPackageInitOptions.profilerTraceLoggingChunkSize||30,j=new _e(B,A,D,z,this.logger,V),H=new Ke(this.logger),$=new xe(j,H,this.logger),Q=new Xe(this.logger),K=new Ye(this.logger),Z=null!==(a=this.jsCPUProfilingPackageInitOptions.callTreeFilteringThresholdInMs)&&void 0!==a?a:50,X=null!==(l=this.jsCPUProfilingPackageInitOptions.frameTotalExecutionTimeFilteringThresholdInMs)&&void 0!==l?l:0,Y=null!==(n=this.jsCPUProfilingPackageInitOptions.shouldMakeSerializedCallTreesFullyReconstructible)&&void 0!==n&&n,ee=new mr(this.logger),re=new Ne($,Q,K,Z,ee,X,this.logger),te=null!==(d=this.jsCPUProfilingPackageInitOptions.shouldCompressSerializedCallTrees)&&void 0!==d&&d,se=new tr(Y,te,this.logger),oe=b.getIdleTimeJobScheduler(),ae=N.getDocumentVisibilityChecker(),de=null!==(c=this.jsCPUProfilingPackageInitOptions.shouldProcessProfileCapturedInAHiddenDocument)&&void 0!==c&&c,ce=null!==(u=this.jsCPUProfilingPackageInitOptions.shouldSendProfilesForDeobfuscationImmediately)&&void 0!==u&&u,ue=new sr(re,se),ge=null!==(g=this.jsCPUProfilingPackageInitOptions.useMainEventLoopForProfilerTraceProcessing)&&void 0!==g&&g,me=class{static getWindowPropertyChecker(){const e=new T;return new f(e)}}.getWindowPropertyChecker(),pe=new or(me),he=class{static getSendBeaconScheduler(){const e=new T,r=new R(e),t=new F(e),s=new v;return new y(r,t,s,e)}}.getSendBeaconScheduler(),Te=null!==(m=this.jsCPUProfilingPackageInitOptions.shouldSendAllCallTreesFromProfileInASingleRequest)&&void 0!==m&&m,fe=null===(p=this.jsCPUProfilingPackageInitOptions.shouldUseSendBeaconForSendingCallTrees)||void 0===p||p,Pe=new v,Ce=new gr(he,Te,Pe,fe,te,this.logger),ve=new dr(this.jsCPUProfilingPackageInitOptions,this.logMessageProcessor,this.logger),Oe=null!==(P=this.jsCPUProfilingPackageInitOptions.profilerTraceProcessingWebWorkerSourceURL)&&void 0!==P?P:"",be=this.jsCPUProfilingPackageInitOptions.deObfuscationRequestBodyPropertiesRetriever,ke=this.jsCPUProfilingPackageInitOptions.deObfuscationRequestQueryParamsRetriever,Me=new ie(this.logger),ye={shouldAlwaysLogOperationsData:null!==(C=this.jsCPUProfilingPackageInitOptions.shouldAlwaysLogOperationsData)&&void 0!==C&&C,durationThresholdInMsToLogOperationData:null!==(I=this.jsCPUProfilingPackageInitOptions.durationThresholdInMsToLogOperationData)&&void 0!==I?I:50,listOfOperationNamesToAlwaysLog:J},Re=null===(O=this.jsCPUProfilingPackageInitOptions.shouldProcessProfileCapturedWhileUserIsIdle)||void 0===O||O,Fe=null!==(k=this.jsCPUProfilingPackageInitOptions.shouldKeepQueryParamsInResourceURLs)&&void 0!==k&&k,Ee=null===(M=this.jsCPUProfilingPackageInitOptions.shouldLogSerializedCallTrees)||void 0===M||M,We=null===(x=this.jsCPUProfilingPackageInitOptions.shouldSendSerializedCallTreesToServer)||void 0===x||x,Ue=(new S).getURLQueryParamsRemover(),Le=new hr(Ue,this.logger),Be=new Cr(te,this.logger),Ae=new Pr({idleTimeJobScheduler:oe,documentVisibilityChecker:ae,shouldProcessProfileCapturedInAHiddenDocument:de,traceProcessor:ue,shouldProcessProfileInMainEventLoop:ge,webWorkerAPIAvailabilityChecker:pe,deObfuscationInfo:L,callTreesSender:Ce,webWorkerSourceURL:Oe,profilerTraceProcessingWorkerFactory:ve,shouldKeepSamplesOutsideOfProfilingInterval:D,shouldRecordExpandedTimeStamps:z,callTreeFilteringThresholdInMs:Z,frameTotalExecutionTimeFilteringThresholdInMs:X,deObfuscationRequestBodyPropertiesRetriever:be,deObfuscationRequestQueryParamsRetriever:ke,customPropertiesExtractor:Me,operationLogMessageFilteringCriteria:ye,shouldSendProfilesForDeobfuscationImmediately:ce,shouldProcessProfileCapturedWhileUserIsIdle:Re,shouldKeepQueryParamsInResourceURLs:Fe,profileResourceURLsQueryParamsRemover:Le,shouldMakeSerializedCallTreesFullyReconstructible:Y,shouldRecordFrameCounts:V,shouldLogRawProfilerTrace:G,profilerTraceLoggingChunkSize:q,shouldLogSerializedCallTrees:Ee,shouldSendSerializedCallTreesToServer:We,shouldCompressSerializedCallTrees:te,serializedCallTreesToJSONStringsConverter:Be,logger:this.logger}),Je=new le(_,w,U,Ae,this.jsCPUProfilingPackageInitOptions,this.logger);return h.generateOperationResult({didOperationSucceed:!0,result:Je})},e,this.logger).getResult()}getSupportedEnvironmentChecker(e){return class{static build(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:new me(r)});return p.startNew("BuildSupportedEnvironmentChecker",()=>{const t=class{static getUserAgentRetriever(){return new w(new T)}}.getUserAgentRetriever(),s=class{static getBrowserUtils(){const e=new T;return new I(e)}}.getBrowserUtils(),o=new de(t,s,r),i=new ue(t,r),a=new ge(r);return h.generateOperationResult({didOperationSucceed:!0,result:new ce(o,i,a,e,r)})},t,r).getResult()}}.build(e,this.logger)}constructor(e,r,t,s){this.featureChecker=e,this.jsCPUProfilingPackageInitOptions=r,this.logMessageProcessor=t,this.logger=s}}class Ir{retrieveProfilerFactory(){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new Oe(this.logger)}constructor(e){this.logger=e}}!function(e){e[e.IdMissing=0]="IdMissing",e[e.DataMissing=1]="DataMissing",e[e.MissingProfilerImplementation=2]="MissingProfilerImplementation",e[e.FailingValidationsInProfilerFactory=3]="FailingValidationsInProfilerFactory",e[e.WindowMissingInJSEnvironment=4]="WindowMissingInJSEnvironment",e[e.WindowPropertyNameChecked=5]="WindowPropertyNameChecked",e[e.UserAgentToParseChromiumMajorVersionNumber=6]="UserAgentToParseChromiumMajorVersionNumber",e[e.ChromeNotPresentInUserAgent=7]="ChromeNotPresentInUserAgent",e[e.UnableToIsolateChromeInformationFromUserAgent=8]="UnableToIsolateChromeInformationFromUserAgent",e[e.UnableToExtractChromeVersionInformation=9]="UnableToExtractChromeVersionInformation",e[e.UnableToParseChromeMajorVersionString=10]="UnableToParseChromeMajorVersionString",e[e.ParsedChromiumMajorVersionNumber=11]="ParsedChromiumMajorVersionNumber",e[e.UserAgentToCheckForChromiumBrowser=12]="UserAgentToCheckForChromiumBrowser",e[e.EmptyUserAgentString=13]="EmptyUserAgentString",e[e.BrowserUserAgentNotChromiumBased=14]="BrowserUserAgentNotChromiumBased",e[e.UserAgentSpoofedToBeChromium=15]="UserAgentSpoofedToBeChromium",e[e.BrowserNotChromiumBasedBrowser=16]="BrowserNotChromiumBasedBrowser",e[e.UnsupportedChromiumMajorVersionNumber=17]="UnsupportedChromiumMajorVersionNumber",e[e.ProfilerInitOptionsNullOrUndefined=18]="ProfilerInitOptionsNullOrUndefined",e[e.SamplingIntervalIsLessThanOrEqualToZero=19]="SamplingIntervalIsLessThanOrEqualToZero",e[e.SamplingIntervalLessThanMinimumSupportedSamplingInterval=20]="SamplingIntervalLessThanMinimumSupportedSamplingInterval",e[e.UnsupportedBrowser=21]="UnsupportedBrowser",e[e.UnsupportedOperatingSystem=22]="UnsupportedOperatingSystem",e[e.JSSelfProfilingAPIUnavailable=23]="JSSelfProfilingAPIUnavailable",e[e.RetrievedUserAgent=24]="RetrievedUserAgent",e[e.NullJSCPUProfilerStartCalled=25]="NullJSCPUProfilerStartCalled",e[e.NullJSCPUProfilerStopCalled=26]="NullJSCPUProfilerStopCalled",e[e.NullOrUndefinedProfilerInitOptions=27]="NullOrUndefinedProfilerInitOptions",e[e.MaxBufferSizeFixedToDefaultSize=28]="MaxBufferSizeFixedToDefaultSize",e[e.MaxBufferSizeWasNotFixedBeforeRetrieval=29]="MaxBufferSizeWasNotFixedBeforeRetrieval",e[e.ProfilerNotPresentInJSEnvironment=30]="ProfilerNotPresentInJSEnvironment",e[e.SamplingIntervalValidationCheckFailed=31]="SamplingIntervalValidationCheckFailed",e[e.MaxBufferValidationFailed=32]="MaxBufferValidationFailed",e[e.MaxBufferSizeNotSpecified=33]="MaxBufferSizeNotSpecified",e[e.MaxBufferSizeLessThanOrEqualToZero=34]="MaxBufferSizeLessThanOrEqualToZero",e[e.ManualProfilerValidationFailed=35]="ManualProfilerValidationFailed",e[e.ProfilingIntervalValidationFailed=36]="ProfilingIntervalValidationFailed",e[e.ProfilingIntervalNullOrUndefined=37]="ProfilingIntervalNullOrUndefined",e[e.ProfilingIntervalLessThanOrEqualToZero=38]="ProfilingIntervalLessThanOrEqualToZero",e[e.ProfilingIntervalLessThanSamplingInterval=39]="ProfilingIntervalLessThanSamplingInterval",e[e.TimedProfilerValidationFailed=40]="TimedProfilerValidationFailed",e[e.IdleIntervalValidationFailed=41]="IdleIntervalValidationFailed",e[e.IdleIntervalIsNullOrUndefined=42]="IdleIntervalIsNullOrUndefined",e[e.IdleIntervalIsLessThanOrEqualToZero=43]="IdleIntervalIsLessThanOrEqualToZero",e[e.PostProfilerStartCallbackSpecified=44]="PostProfilerStartCallbackSpecified",e[e.PreProfilerStartCheckFailed=45]="PreProfilerStartCheckFailed",e[e.MaxBufferSizeNotFixed=46]="MaxBufferSizeNotFixed",e[e.ProfilerAlreadyStarted=47]="ProfilerAlreadyStarted",e[e.ProfilerStartSucceeded=48]="ProfilerStartSucceeded",e[e.InvokingPostProfilerStartCallback=49]="InvokingPostProfilerStartCallback",e[e.PostProfilerStopCallbackSpecified=50]="PostProfilerStopCallbackSpecified",e[e.ProfilerInstanceIsUndefined=51]="ProfilerInstanceIsUndefined",e[e.ProfilerStopPromiseResolved=52]="ProfilerStopPromiseResolved",e[e.ProfilerStopPromiseRejected=53]="ProfilerStopPromiseRejected",e[e.PostProfilerStopCallbackInvoked=54]="PostProfilerStopCallbackInvoked",e[e.PostTimedStartProfilerStartCallbackInvoked=55]="PostTimedStartProfilerStartCallbackInvoked",e[e.ProfilingIntervalIsUndefined=56]="ProfilingIntervalIsUndefined",e[e.TimerJobToStopProfilerSet=57]="TimerJobToStopProfilerSet",e[e.TimedProfilerStopCallbackInvoked=58]="TimedProfilerStopCallbackInvoked",e[e.TimedProfilerIsBeingStoppedManually=59]="TimedProfilerIsBeingStoppedManually",e[e.ProfilerStartPromiseCreated=60]="ProfilerStartPromiseCreated",e[e.ProfilerStopGoingToBeInvoked=61]="ProfilerStopGoingToBeInvoked",e[e.SamplingIntervalUsedForStartingProfiler=62]="SamplingIntervalUsedForStartingProfiler",e[e.MaxBufferSize=63]="MaxBufferSize",e[e.NoProfilerInstanceBuilt=64]="NoProfilerInstanceBuilt",e[e.ProfilerInitOptionsValidationFailed=65]="ProfilerInitOptionsValidationFailed",e[e.UnableToFixUpProfilerInitOptions=66]="UnableToFixUpProfilerInitOptions",e[e.ProfilingIsNotEnabled=67]="ProfilingIsNotEnabled",e[e.ProfilingIsNotSupportedEnvironment=68]="ProfilingIsNotSupportedEnvironment",e[e.FeatureCheckerIsNullOrUndefined=69]="FeatureCheckerIsNullOrUndefined",e[e.NullSupportedEnvironmentCheckerInvoked=70]="NullSupportedEnvironmentCheckerInvoked",e[e.NullJSCPUProfilerInitOptionsValidatorInvoked=71]="NullJSCPUProfilerInitOptionsValidatorInvoked",e[e.NullJSCPUProfilerFactoryInvoked=72]="NullJSCPUProfilerFactoryInvoked",e[e.NullOrUndefinedIdleInterval=73]="NullOrUndefinedIdleInterval",e[e.CreateProfilerDidNotSubscribeProfilerObserver=74]="CreateProfilerDidNotSubscribeProfilerObserver",e[e.NullOrUndefinedCustomPropertiesRetriever=75]="NullOrUndefinedCustomPropertiesRetriever",e[e.NullOrUndefinedCustomProperties=76]="NullOrUndefinedCustomProperties",e[e.CustomPropertyKeyIsNull=77]="CustomPropertyKeyIsNull",e[e.CustomPropertyValueIsNull=78]="CustomPropertyValueIsNull",e[e.RetrieveCallTreesCalledBeforeTransform=79]="RetrieveCallTreesCalledBeforeTransform",e[e.RetrieveBuiltCallTreesBeforeBuildCallTrees=80]="RetrieveBuiltCallTreesBeforeBuildCallTrees",e[e.RetrieveStacksCalledBeforeBuildStacks=81]="RetrieveStacksCalledBeforeBuildStacks",e[e.ExecutionStacksNeverBuilt=82]="ExecutionStacksNeverBuilt",e[e.PeekOnNullExecutionStackInvoked=83]="PeekOnNullExecutionStackInvoked",e[e.PopOnNullExecutionStackInvoked=84]="PopOnNullExecutionStackInvoked",e[e.EmptyStacks=85]="EmptyStacks",e[e.EmptyFrames=86]="EmptyFrames",e[e.ForciblyExitingLoopWhileBuildingStack=87]="ForciblyExitingLoopWhileBuildingStack",e[e.RetrieveStackCalledBeforeBuildStack=88]="RetrieveStackCalledBeforeBuildStack",e[e.ExecutionStackNeverBuilt=89]="ExecutionStackNeverBuilt",e[e.ConvertStacksToCallTreesNeverCalled=90]="ConvertStacksToCallTreesNeverCalled",e[e.ConvertStackToCallTreeNeverCalled=91]="ConvertStackToCallTreeNeverCalled",e[e.NullFrameNodeCreated=92]="NullFrameNodeCreated",e[e.InvalidSampleIndex=93]="InvalidSampleIndex",e[e.InvalidFrameNodeStartTime=94]="InvalidFrameNodeStartTime",e[e.InvalidFrameNodeExecutionTime=95]="InvalidFrameNodeExecutionTime",e[e.InvalidNewFrameNodeExecutionTime=96]="InvalidNewFrameNodeExecutionTime",e[e.NegativeSubTreeExecutionTime=97]="NegativeSubTreeExecutionTime",e[e.FixerForProfilerType=98]="FixerForProfilerType",e[e.MissingProfilerInitOptionsFixerImplementation=99]="MissingProfilerInitOptionsFixerImplementation",e[e.LoopBackFixerFixProfilerInitOptionsInvoked=100]="LoopBackFixerFixProfilerInitOptionsInvoked",e[e.LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked=101]="LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked",e[e.MissingDeObfuscationEndpoint=102]="MissingDeObfuscationEndpoint",e[e.NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling=103]="NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling",e[e.NullCallTreeDepthFirstIteratorInvoked=104]="NullCallTreeDepthFirstIteratorInvoked",e[e.EmptySamplesArrayPassedToFilter=105]="EmptySamplesArrayPassedToFilter",e[e.NullCallTreeLeftMostNodesIteratorInvoked=106]="NullCallTreeLeftMostNodesIteratorInvoked",e[e.NullCallTreeRightMostNodesIteratorInvoked=107]="NullCallTreeRightMostNodesIteratorInvoked",e[e.MissingIsProfilingEnabledOnFeatureChecker=108]="MissingIsProfilingEnabledOnFeatureChecker",e[e.FeatureCheckerIsProfilingEnabledNotAFunction=109]="FeatureCheckerIsProfilingEnabledNotAFunction",e[e.NullCallTreeGetTotalExecutionTimeInvoked=110]="NullCallTreeGetTotalExecutionTimeInvoked",e[e.NullCallTreeGetCustomPropertiesInvoked=111]="NullCallTreeGetCustomPropertiesInvoked",e[e.SerializedCallTrees=112]="SerializedCallTrees",e[e.NullCallTreeIteratorImplGetNextInvoked=113]="NullCallTreeIteratorImplGetNextInvoked",e[e.NullCallTreeIteratorImplHasMoreInvoked=114]="NullCallTreeIteratorImplHasMoreInvoked",e[e.MissingProfilerNameForProfilerType=115]="MissingProfilerNameForProfilerType",e[e.ExpectedOnlyOneNodePerLevelInCallTree=116]="ExpectedOnlyOneNodePerLevelInCallTree",e[e.MissingWebWorkerSourceURL=117]="MissingWebWorkerSourceURL",e[e.MaxNumberOfProfilersAlreadyCreated=118]="MaxNumberOfProfilersAlreadyCreated",e[e.WebWorkerAPINotAvailable=119]="WebWorkerAPINotAvailable",e[e.SamplingIntervalAboveMaxSamplingInterval=120]="SamplingIntervalAboveMaxSamplingInterval",e[e.UnableToBootWebWorker=121]="UnableToBootWebWorker",e[e.WorkerInstanceNotFound=122]="WorkerInstanceNotFound",e[e.IdNotFoundInMessageToWorker=123]="IdNotFoundInMessageToWorker",e[e.DataNotFoundInMessageToWorker=124]="DataNotFoundInMessageToWorker",e[e.IdNotFoundInMessageFromWorker=125]="IdNotFoundInMessageFromWorker",e[e.DataNotFoundInMessageFromWorker=126]="DataNotFoundInMessageFromWorker",e[e.IdNotFoundInWorkerLogMessage=127]="IdNotFoundInWorkerLogMessage",e[e.MessageNotFoundInWorkerLogMessage=128]="MessageNotFoundInWorkerLogMessage",e[e.UnknownMessageFromWorker=129]="UnknownMessageFromWorker",e[e.UnknownLogMessageFromWorker=130]="UnknownLogMessageFromWorker",e[e.Operation=131]="Operation",e[e.FallbackResultReturned=132]="FallbackResultReturned",e[e.UnknownMessageToWorker=133]="UnknownMessageToWorker",e[e.ExceptionEncounteredInWorker=134]="ExceptionEncounteredInWorker",e[e.MissingDeObfuscationInfoInTraceProcessingInfo=135]="MissingDeObfuscationInfoInTraceProcessingInfo",e[e.MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo=136]="MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo",e[e.MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo=137]="MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo",e[e.MissingCallTreeFilteringThresholdInMs=138]="MissingCallTreeFilteringThresholdInMs",e[e.InvalidMessageReceivedByWorker=139]="InvalidMessageReceivedByWorker",e[e.InvalidProcessTraceMessageReceivedByWorker=140]="InvalidProcessTraceMessageReceivedByWorker",e[e.MissingTraceInTraceProcessingInfo=141]="MissingTraceInTraceProcessingInfo",e[e.SerializedCallTreesMissingInProcessorResult=142]="SerializedCallTreesMissingInProcessorResult",e[e.LogsMissingInProcessorResult=143]="LogsMissingInProcessorResult",e[e.UndefinedWebWorkerCompletionCallback=144]="UndefinedWebWorkerCompletionCallback",e[e.LogsMissingInErrorsFromWebWorker=145]="LogsMissingInErrorsFromWebWorker",e[e.UndefinedErrorCallback=146]="UndefinedErrorCallback",e[e.UndefinedTraceProcessingInfoToReturnBack=147]="UndefinedTraceProcessingInfoToReturnBack",e[e.WebWorkerAlreadyStarted=148]="WebWorkerAlreadyStarted",e[e.WebWorkerErrorFallingBackToMainEventLoop=149]="WebWorkerErrorFallingBackToMainEventLoop",e[e.CustomPropertiesMissingInTrace=150]="CustomPropertiesMissingInTrace",e[e.ProfilerTraceMissingInTrace=151]="ProfilerTraceMissingInTrace",e[e.ProfilerTraceStartTimestampMissingInTrace=152]="ProfilerTraceStartTimestampMissingInTrace",e[e.ProfilerPropertiesMissingInTrace=153]="ProfilerPropertiesMissingInTrace",e[e.ElapsedProfilingTimeMissingInTrace=154]="ElapsedProfilingTimeMissingInTrace",e[e.InvalidProfilerTraceToProcess=155]="InvalidProfilerTraceToProcess",e[e.WebWorkerError=156]="WebWorkerError",e[e.WebWorkerTraceProcessingInfoMissingToReturnOnError=157]="WebWorkerTraceProcessingInfoMissingToReturnOnError",e[e.WebWorkerErrorCallbackNotRegistered=158]="WebWorkerErrorCallbackNotRegistered",e[e.ProfilerTrace=159]="ProfilerTrace",e[e.MissingCallToFilterCallTrees=160]="MissingCallToFilterCallTrees",e[e.MissingCallToFilterFrames=161]="MissingCallToFilterFrames",e[e.NullCallTreeFramesFiltererFilterFramesInvoked=162]="NullCallTreeFramesFiltererFilterFramesInvoked",e[e.NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked=163]="NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked",e[e.NullCallTreeGetFramesFiltererInvoked=164]="NullCallTreeGetFramesFiltererInvoked",e[e.FilterFrameWithNoParent=165]="FilterFrameWithNoParent",e[e.MissingCallTreeFilteringThresholdInMsInTraceProcessingInfo=166]="MissingCallTreeFilteringThresholdInMsInTraceProcessingInfo",e[e.NoCallTreesToSend=167]="NoCallTreesToSend",e[e.OperationLogMessageFiltererInitOptions=168]="OperationLogMessageFiltererInitOptions",e[e.ErrorFromWorker=169]="ErrorFromWorker",e[e.WebWorkerTerminated=170]="WebWorkerTerminated",e[e.NullOrUndefinedProfilerEvent=171]="NullOrUndefinedProfilerEvent",e[e.UnknownProfilerEventId=172]="UnknownProfilerEventId",e[e.NullOrUndefinedProfilerTrace=173]="NullOrUndefinedProfilerTrace",e[e.OperationLogMessageFilteringCriteriaMissingInTrace=174]="OperationLogMessageFilteringCriteriaMissingInTrace",e[e.NullOrUndefinedProfilerObserverPassedInForSubscribe=175]="NullOrUndefinedProfilerObserverPassedInForSubscribe",e[e.NullOrUndefinedProfilerEventIds=176]="NullOrUndefinedProfilerEventIds",e[e.UnexpectedUndefinedProfilerEventIds=177]="UnexpectedUndefinedProfilerEventIds",e[e.NullOrUndefinedProfilerObserverPassedInForUnsubscribe=178]="NullOrUndefinedProfilerObserverPassedInForUnsubscribe",e[e.NullOrUndefinedProfilerEventToUnsubscribe=179]="NullOrUndefinedProfilerEventToUnsubscribe",e[e.ProfilerObserverWasNeverSubscribed=180]="ProfilerObserverWasNeverSubscribed",e[e.UnexpectedNullOrUndefinedSubscribedProfilerEventIds=181]="UnexpectedNullOrUndefinedSubscribedProfilerEventIds",e[e.ProfilerObserverNeverSubscribedForProfilerEventId=182]="ProfilerObserverNeverSubscribedForProfilerEventId",e[e.CallTreeCustomPropertiesRetrieversMissingInTrace=183]="CallTreeCustomPropertiesRetrieversMissingInTrace",e[e.NullOrUndefinedItemToSubscribe=184]="NullOrUndefinedItemToSubscribe",e[e.NullOrUndefinedItemForUnsubscribe=185]="NullOrUndefinedItemForUnsubscribe",e[e.ItemWasNeverSubscribed=186]="ItemWasNeverSubscribed",e[e.NumberOfCallTreesFiltererByCustomFilterers=187]="NumberOfCallTreesFiltererByCustomFilterers",e[e.ProcessTraceParamsIsNullOrUndefined=188]="ProcessTraceParamsIsNullOrUndefined",e[e.CurrentTraceBeingProcessedNullOrUndefined=189]="CurrentTraceBeingProcessedNullOrUndefined",e[e.TraceIdMissingInTrace=190]="TraceIdMissingInTrace",e[e.UndefinedStoredProfilerTraceProcessingWorker=191]="UndefinedStoredProfilerTraceProcessingWorker",e[e.BailingOutOnNullProfiler=192]="BailingOutOnNullProfiler",e[e.NotProcessingCapturedTraceDueToUserBeingIdle=193]="NotProcessingCapturedTraceDueToUserBeingIdle",e[e.NullCallTreeGetReconstructableTreeIteratorInvoked=194]="NullCallTreeGetReconstructableTreeIteratorInvoked",e[e.GetCustomPropertiesCalledOnNullJSCPUProfilerTrace=195]="GetCustomPropertiesCalledOnNullJSCPUProfilerTrace",e[e.GetResourcesCalledOnNullJSCPUProfilerTrace=196]="GetResourcesCalledOnNullJSCPUProfilerTrace",e[e.GetFramesCalledOnNullJSCPUProfilerTrace=197]="GetFramesCalledOnNullJSCPUProfilerTrace",e[e.GetStacksCalledOnNullJSCPUProfilerTrace=198]="GetStacksCalledOnNullJSCPUProfilerTrace",e[e.GetSamplesCalledOnNullJSCPUProfilerTrace=199]="GetSamplesCalledOnNullJSCPUProfilerTrace",e[e.GetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace=200]="GetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace",e[e.GetProfilerPropertiesCalledOnNullJSCPUProfilerTrace=201]="GetProfilerPropertiesCalledOnNullJSCPUProfilerTrace",e[e.GetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace=202]="GetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace",e[e.RemoveQueryParamsFromResourceURLsNeverCalled=203]="RemoveQueryParamsFromResourceURLsNeverCalled",e[e.SerializeCallTreeNeverCalled=204]="SerializeCallTreeNeverCalled",e[e.ConvertToJSONStringWasNeverCalled=205]="ConvertToJSONStringWasNeverCalled"}(ar||(ar={}));class Or{logMissingProfilerImplementation(){this.sendLogMessageToProcessors({id:ar.MissingProfilerImplementation,message:void 0,context:this.logContext})}logFailingValidationsInProfilerFactory(){this.sendLogMessageToProcessors({id:ar.FailingValidationsInProfilerFactory,message:void 0,context:this.logContext})}logWindowMissingInJSEnvironment(){this.sendLogMessageToProcessors({id:ar.WindowMissingInJSEnvironment,message:void 0,context:this.logContext})}logWindowPropertyNameChecked(e){this.sendLogMessageToProcessors({id:ar.WindowPropertyNameChecked,message:e,context:this.logContext})}logUserAgentToParseChromiumMajorVersionNumber(){this.sendLogMessageToProcessors({id:ar.UserAgentToParseChromiumMajorVersionNumber,message:void 0,context:this.logContext})}logChromeNotPresentInUserAgent(){this.sendLogMessageToProcessors({id:ar.ChromeNotPresentInUserAgent,message:void 0,context:this.logContext})}logUnableToIsolateChromeInformationFromUserAgent(){this.sendLogMessageToProcessors({id:ar.UnableToIsolateChromeInformationFromUserAgent,message:void 0,context:this.logContext})}logUnableToExtractChromeVersionInformation(){this.sendLogMessageToProcessors({id:ar.UnableToExtractChromeVersionInformation,message:void 0,context:this.logContext})}logUnableToParseChromeMajorVersionString(){this.sendLogMessageToProcessors({id:ar.UnableToParseChromeMajorVersionString,message:void 0,context:this.logContext})}logParsedChromiumMajorVersionNumber(e){this.sendLogMessageToProcessors({id:ar.ParsedChromiumMajorVersionNumber,message:e,context:this.logContext})}logUserAgentToCheckForChromiumBrowser(e){this.sendLogMessageToProcessors({id:ar.UserAgentToCheckForChromiumBrowser,message:e,context:this.logContext})}logEmptyUserAgentString(){this.sendLogMessageToProcessors({id:ar.EmptyUserAgentString,message:void 0,context:this.logContext})}logBrowserUserAgentNotChromiumBased(){this.sendLogMessageToProcessors({id:ar.BrowserUserAgentNotChromiumBased,message:void 0,context:this.logContext})}logUserAgentSpoofedToBeChromium(){this.sendLogMessageToProcessors({id:ar.UserAgentSpoofedToBeChromium,message:void 0,context:this.logContext})}logBrowserNotChromiumBasedBrowser(){this.sendLogMessageToProcessors({id:ar.BrowserNotChromiumBasedBrowser,message:void 0,context:this.logContext})}logUnsupportedChromiumMajorVersionNumber(){this.sendLogMessageToProcessors({id:ar.UnsupportedChromiumMajorVersionNumber,message:void 0,context:this.logContext})}logProfilerInitOptionsNullOrUndefined(){this.sendLogMessageToProcessors({id:ar.ProfilerInitOptionsNullOrUndefined,message:void 0,context:this.logContext})}logSamplingIntervalIsLessThanOrEqualToZero(){this.sendLogMessageToProcessors({id:ar.SamplingIntervalIsLessThanOrEqualToZero,message:void 0,context:this.logContext})}logSamplingIntervalLessThanMinimumSupportedSamplingInterval(e,r){this.sendLogMessageToProcessors({id:ar.SamplingIntervalLessThanMinimumSupportedSamplingInterval,message:{samplingInterval:e,minimumSupportedSamplingInterval:r},context:this.logContext})}logUnsupportedBrowser(){this.sendLogMessageToProcessors({id:ar.UnsupportedBrowser,message:void 0,context:this.logContext})}logUnsupportedOperatingSystem(){this.sendLogMessageToProcessors({id:ar.UnsupportedOperatingSystem,message:void 0,context:this.logContext})}logJSSelfProfilingAPIUnavailable(){this.sendLogMessageToProcessors({id:ar.JSSelfProfilingAPIUnavailable,message:void 0,context:this.logContext})}logRetrievedUserAgent(e){this.sendLogMessageToProcessors({id:ar.RetrievedUserAgent,message:e,context:this.logContext})}logNullJSCPUProfilerStartCalled(){this.sendLogMessageToProcessors({id:ar.NullJSCPUProfilerStartCalled,message:void 0,context:this.logContext})}logNullJSCPUProfilerStopCalled(){this.sendLogMessageToProcessors({id:ar.NullJSCPUProfilerStopCalled,message:void 0,context:this.logContext})}logNullOrUndefinedProfilerInitOptions(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedProfilerInitOptions,message:void 0,context:this.logContext})}logMaxBufferSizeFixedToDefaultSize(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeFixedToDefaultSize,message:void 0,context:this.logContext})}logMaxBufferSizeWasNotFixedBeforeRetrieval(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeWasNotFixedBeforeRetrieval,message:void 0,context:this.logContext})}logProfilerNotPresentInJSEnvironment(){this.sendLogMessageToProcessors({id:ar.ProfilerNotPresentInJSEnvironment,message:void 0,context:this.logContext})}logSamplingIntervalValidationCheckFailed(){this.sendLogMessageToProcessors({id:ar.SamplingIntervalValidationCheckFailed,message:void 0,context:this.logContext})}logMaxBufferValidationFailed(){this.sendLogMessageToProcessors({id:ar.MaxBufferValidationFailed,message:void 0,context:this.logContext})}logMaxBufferSizeNotSpecified(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeNotSpecified,message:void 0,context:this.logContext})}logMaxBufferSizeLessThanOrEqualToZero(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeLessThanOrEqualToZero,message:void 0,context:this.logContext})}logManualProfilerValidationFailed(){this.sendLogMessageToProcessors({id:ar.ManualProfilerValidationFailed,message:void 0,context:this.logContext})}logProfilingIntervalValidationFailed(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalValidationFailed,message:void 0,context:this.logContext})}logProfilingIntervalNullOrUndefined(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalNullOrUndefined,message:void 0,context:this.logContext})}logProfilingIntervalLessThanOrEqualToZero(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalLessThanOrEqualToZero,message:void 0,context:this.logContext})}logProfilingIntervalLessThanSamplingInterval(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalLessThanSamplingInterval,message:void 0,context:this.logContext})}logTimedProfilerValidationFailed(){this.sendLogMessageToProcessors({id:ar.TimedProfilerValidationFailed,message:void 0,context:this.logContext})}logIdleIntervalValidationFailed(){this.sendLogMessageToProcessors({id:ar.IdleIntervalValidationFailed,message:void 0,context:this.logContext})}logIdleIntervalIsNullOrUndefined(){this.sendLogMessageToProcessors({id:ar.IdleIntervalIsNullOrUndefined,message:void 0,context:this.logContext})}logIdleIntervalIsLessThanOrEqualToZero(){this.sendLogMessageToProcessors({id:ar.IdleIntervalIsLessThanOrEqualToZero,message:void 0,context:this.logContext})}logPostProfilerStartCallbackSpecified(){this.sendLogMessageToProcessors({id:ar.PostProfilerStartCallbackSpecified,message:void 0,context:this.logContext})}logPreProfilerStartCheckFailed(){this.sendLogMessageToProcessors({id:ar.PreProfilerStartCheckFailed,message:void 0,context:this.logContext})}logMaxBufferSizeNotFixed(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeNotFixed,message:void 0,context:this.logContext})}logBailingOutOnNullProfiler(){this.sendLogMessageToProcessors({id:ar.BailingOutOnNullProfiler,message:void 0,context:this.logContext})}logProfilerAlreadyStarted(){this.sendLogMessageToProcessors({id:ar.ProfilerAlreadyStarted,message:void 0,context:this.logContext})}logProfilerStartSucceeded(){this.sendLogMessageToProcessors({id:ar.ProfilerStartSucceeded,message:void 0,context:this.logContext})}logInvokingPostProfilerStartCallback(){this.sendLogMessageToProcessors({id:ar.InvokingPostProfilerStartCallback,message:void 0,context:this.logContext})}logPostProfilerStopCallbackSpecified(){this.sendLogMessageToProcessors({id:ar.PostProfilerStopCallbackSpecified,message:void 0,context:this.logContext})}logProfilerInstanceIsUndefined(){this.sendLogMessageToProcessors({id:ar.ProfilerInstanceIsUndefined,message:void 0,context:this.logContext})}logProfilerStopPromiseResolved(){this.sendLogMessageToProcessors({id:ar.ProfilerStopPromiseResolved,message:void 0,context:this.logContext})}logProfilerStopPromiseRejected(e){this.sendLogMessageToProcessors({id:ar.ProfilerStopPromiseRejected,message:e,context:this.logContext})}logPostProfilerStopCallbackInvoked(){this.sendLogMessageToProcessors({id:ar.PostProfilerStopCallbackInvoked,message:void 0,context:this.logContext})}logNotProcessingCapturedTraceDueToUserBeingIdle(){this.sendLogMessageToProcessors({id:ar.NotProcessingCapturedTraceDueToUserBeingIdle,message:void 0,context:this.logContext})}logPostTimedStartProfilerStartCallbackInvoked(){this.sendLogMessageToProcessors({id:ar.PostTimedStartProfilerStartCallbackInvoked,message:void 0,context:this.logContext})}logProfilingIntervalIsUndefined(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalIsUndefined,message:void 0,context:this.logContext})}logTimerJobToStopProfilerSet(){this.sendLogMessageToProcessors({id:ar.TimerJobToStopProfilerSet,message:void 0,context:this.logContext})}logTimedProfilerStopCallbackInvoked(){this.sendLogMessageToProcessors({id:ar.TimedProfilerStopCallbackInvoked,message:void 0,context:this.logContext})}logTimedProfilerIsBeingStoppedManually(){this.sendLogMessageToProcessors({id:ar.TimedProfilerIsBeingStoppedManually,message:void 0,context:this.logContext})}logProfilerStartPromiseCreated(){this.sendLogMessageToProcessors({id:ar.ProfilerStartPromiseCreated,message:void 0,context:this.logContext})}logProfilerStopGoingToBeInvoked(){this.sendLogMessageToProcessors({id:ar.ProfilerStopGoingToBeInvoked,message:void 0,context:this.logContext})}logSamplingIntervalUsedForStartingProfiler(){this.sendLogMessageToProcessors({id:ar.SamplingIntervalUsedForStartingProfiler,message:void 0,context:this.logContext})}logMaxBufferSize(e){this.sendLogMessageToProcessors({id:ar.MaxBufferSize,message:e,context:this.logContext})}logNoProfilerInstanceBuilt(){this.sendLogMessageToProcessors({id:ar.NoProfilerInstanceBuilt,message:void 0,context:this.logContext})}logProfilerInitOptionsValidationFailed(){this.sendLogMessageToProcessors({id:ar.ProfilerInitOptionsValidationFailed,message:void 0,context:this.logContext})}logUnableToFixUpProfilerInitOptions(){this.sendLogMessageToProcessors({id:ar.UnableToFixUpProfilerInitOptions,message:void 0,context:this.logContext})}logProfilingIsNotEnabled(){this.sendLogMessageToProcessors({id:ar.ProfilingIsNotEnabled,message:void 0,context:this.logContext})}logProfilingIsNotSupportedEnvironment(){this.sendLogMessageToProcessors({id:ar.ProfilingIsNotSupportedEnvironment,message:void 0,context:this.logContext})}logFeatureCheckerIsNullOrUndefined(){this.sendLogMessageToProcessors({id:ar.FeatureCheckerIsNullOrUndefined,message:void 0,context:this.logContext})}logNullSupportedEnvironmentCheckerInvoked(){this.sendLogMessageToProcessors({id:ar.NullSupportedEnvironmentCheckerInvoked,message:void 0,context:this.logContext})}logNullJSCPUProfilerInitOptionsValidatorInvoked(){this.sendLogMessageToProcessors({id:ar.NullJSCPUProfilerInitOptionsValidatorInvoked,message:void 0,context:this.logContext})}logNullJSCPUProfilerFactoryInvoked(){this.sendLogMessageToProcessors({id:ar.NullJSCPUProfilerFactoryInvoked,message:void 0,context:this.logContext})}logNullOrUndefinedIdleInterval(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedIdleInterval,message:void 0,context:this.logContext})}logCreateProfilerDidNotSubscribeProfilerObserver(){this.sendLogMessageToProcessors({id:ar.CreateProfilerDidNotSubscribeProfilerObserver,message:void 0,context:this.logContext})}logNullOrUndefinedCustomPropertiesRetriever(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedCustomPropertiesRetriever,message:void 0,context:this.logContext})}logNullOrUndefinedCustomProperties(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedCustomProperties,message:void 0,context:this.logContext})}logCustomPropertyKeyIsNull(){this.sendLogMessageToProcessors({id:ar.CustomPropertyKeyIsNull,message:void 0,context:this.logContext})}logCustomPropertyValueIsNull(){this.sendLogMessageToProcessors({id:ar.CustomPropertyValueIsNull,message:void 0,context:this.logContext})}logRetrieveCallTreesCalledBeforeTransform(){this.sendLogMessageToProcessors({id:ar.RetrieveCallTreesCalledBeforeTransform,message:void 0,context:this.logContext})}logRetrieveBuiltCallTreesBeforeBuildCallTrees(){this.sendLogMessageToProcessors({id:ar.RetrieveBuiltCallTreesBeforeBuildCallTrees,message:void 0,context:this.logContext})}logRetrieveStacksCalledBeforeBuildStacks(){this.sendLogMessageToProcessors({id:ar.RetrieveStacksCalledBeforeBuildStacks,message:void 0,context:this.logContext})}logExecutionStacksNeverBuilt(){this.sendLogMessageToProcessors({id:ar.ExecutionStacksNeverBuilt,message:void 0,context:this.logContext})}logPeekOnNullExecutionStackInvoked(){this.sendLogMessageToProcessors({id:ar.PeekOnNullExecutionStackInvoked,message:void 0,context:this.logContext})}logPopOnNullExecutionStackInvoked(){this.sendLogMessageToProcessors({id:ar.PopOnNullExecutionStackInvoked,message:void 0,context:this.logContext})}logEmptyStacks(){this.sendLogMessageToProcessors({id:ar.EmptyStacks,message:void 0,context:this.logContext})}logEmptyFrames(){this.sendLogMessageToProcessors({id:ar.EmptyFrames,message:void 0,context:this.logContext})}logForciblyExitingLoopWhileBuildingStack(){this.sendLogMessageToProcessors({id:ar.ForciblyExitingLoopWhileBuildingStack,message:void 0,context:this.logContext})}logRetrieveStackCalledBeforeBuildStack(){this.sendLogMessageToProcessors({id:ar.RetrieveStackCalledBeforeBuildStack,message:void 0,context:this.logContext})}logExecutionStackNeverBuilt(){this.sendLogMessageToProcessors({id:ar.ExecutionStackNeverBuilt,message:void 0,context:this.logContext})}logConvertStacksToCallTreesNeverCalled(){this.sendLogMessageToProcessors({id:ar.ConvertStacksToCallTreesNeverCalled,message:void 0,context:this.logContext})}logConvertStackToCallTreeNeverCalled(){this.sendLogMessageToProcessors({id:ar.ConvertStackToCallTreeNeverCalled,message:void 0,context:this.logContext})}logNullFrameNodeCreated(){this.sendLogMessageToProcessors({id:ar.NullFrameNodeCreated,message:void 0,context:this.logContext})}logInvalidSampleIndex(){this.sendLogMessageToProcessors({id:ar.InvalidSampleIndex,message:void 0,context:this.logContext})}logInvalidFrameNodeStartTime(){this.sendLogMessageToProcessors({id:ar.InvalidFrameNodeStartTime,message:void 0,context:this.logContext})}logInvalidFrameNodeExecutionTime(){this.sendLogMessageToProcessors({id:ar.InvalidFrameNodeExecutionTime,message:void 0,context:this.logContext})}logInvalidNewFrameNodeExecutionTime(){this.sendLogMessageToProcessors({id:ar.InvalidNewFrameNodeExecutionTime,message:void 0,context:this.logContext})}logNegativeSubTreeExecutionTime(){this.sendLogMessageToProcessors({id:ar.NegativeSubTreeExecutionTime,message:void 0,context:this.logContext})}logFixerForProfilerType(e){this.sendLogMessageToProcessors({id:ar.FixerForProfilerType,message:e,context:this.logContext})}logMissingProfilerInitOptionsFixerImplementation(){this.sendLogMessageToProcessors({id:ar.MissingProfilerInitOptionsFixerImplementation,message:void 0,context:this.logContext})}logLoopBackFixerFixProfilerInitOptionsInvoked(){this.sendLogMessageToProcessors({id:ar.LoopBackFixerFixProfilerInitOptionsInvoked,message:void 0,context:this.logContext})}logLoopBackFixerRetrieveFixedProfilerInitOptionsInvoked(){this.sendLogMessageToProcessors({id:ar.LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked,message:void 0,context:this.logContext})}logMissingDeObfuscationEndpoint(){this.sendLogMessageToProcessors({id:ar.MissingDeObfuscationEndpoint,message:void 0,context:this.logContext})}logNotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling(){this.sendLogMessageToProcessors({id:ar.NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling,message:void 0,context:this.logContext})}logNullCallTreeDepthFirstIteratorInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeDepthFirstIteratorInvoked,message:void 0,context:this.logContext})}logEmptySamplesArrayPassedToFilter(){this.sendLogMessageToProcessors({id:ar.EmptySamplesArrayPassedToFilter,message:void 0,context:this.logContext})}logNullCallTreeLeftMostNodesIteratorInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeLeftMostNodesIteratorInvoked,message:void 0,context:this.logContext})}logNullCallTreeRightMostNodesIteratorInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeRightMostNodesIteratorInvoked,message:void 0,context:this.logContext})}logMissingIsProfilingEnabledOnFeatureChecker(){this.sendLogMessageToProcessors({id:ar.MissingIsProfilingEnabledOnFeatureChecker,message:void 0,context:this.logContext})}logFeatureCheckerIsProfilingEnabledNotAFunction(){this.sendLogMessageToProcessors({id:ar.FeatureCheckerIsProfilingEnabledNotAFunction,message:void 0,context:this.logContext})}logNullCallTreeGetTotalExecutionTimeInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeGetTotalExecutionTimeInvoked,message:void 0,context:this.logContext})}logNullCallTreeGetCustomPropertiesInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeGetCustomPropertiesInvoked,message:void 0,context:this.logContext})}logNoCallTreesToSend(){this.sendLogMessageToProcessors({id:ar.NoCallTreesToSend,message:void 0,context:this.logContext})}logSerializedCallTrees(e){this.sendLogMessageToProcessors({id:ar.SerializedCallTrees,message:e,context:this.logContext})}logNullCallTreeIteratorImplGetNextInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeIteratorImplGetNextInvoked,message:void 0,context:this.logContext})}logNullCallTreeIteratorImplHasMoreInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeIteratorImplHasMoreInvoked,message:void 0,context:this.logContext})}logMissingProfilerNameForProfilerType(e){this.sendLogMessageToProcessors({id:ar.MissingProfilerNameForProfilerType,message:e,context:this.logContext})}logExpectedOnlyOneNodePerLevelInCallTree(){this.sendLogMessageToProcessors({id:ar.ExpectedOnlyOneNodePerLevelInCallTree,message:void 0,context:this.logContext})}logMissingWebWorkerSourceURL(){this.sendLogMessageToProcessors({id:ar.MissingWebWorkerSourceURL,message:void 0,context:this.logContext})}logMaxNumberOfProfilersAlreadyCreated(){this.sendLogMessageToProcessors({id:ar.MaxNumberOfProfilersAlreadyCreated,message:void 0,context:this.logContext})}logWebWorkerAPINotAvailable(){this.sendLogMessageToProcessors({id:ar.WebWorkerAPINotAvailable,message:void 0,context:this.logContext})}logSamplingIntervalAboveMaxSamplingInterval(){this.sendLogMessageToProcessors({id:ar.SamplingIntervalAboveMaxSamplingInterval,message:void 0,context:this.logContext})}logUnableToBootWebWorker(){this.sendLogMessageToProcessors({id:ar.UnableToBootWebWorker,message:void 0,context:this.logContext})}logWorkerInstanceNotFound(){this.sendLogMessageToProcessors({id:ar.WorkerInstanceNotFound,message:void 0,context:this.logContext})}logIdNotFoundInMessageToWorker(){this.sendLogMessageToProcessors({id:ar.IdNotFoundInMessageToWorker,message:void 0,context:this.logContext})}logDataNotFoundInMessageToWorker(){this.sendLogMessageToProcessors({id:ar.DataNotFoundInMessageToWorker,message:void 0,context:this.logContext})}logIdNotFoundInMessageFromWorker(){this.sendLogMessageToProcessors({id:ar.IdNotFoundInMessageFromWorker,message:void 0,context:this.logContext})}logDataNotFoundInMessageFromWorker(){this.sendLogMessageToProcessors({id:ar.DataNotFoundInMessageFromWorker,message:void 0,context:this.logContext})}logIdNotFoundInWorkerLogMessage(){this.sendLogMessageToProcessors({id:ar.IdNotFoundInWorkerLogMessage,message:void 0,context:this.logContext})}logMessageNotFoundInWorkerLogMessage(){this.sendLogMessageToProcessors({id:ar.MessageNotFoundInWorkerLogMessage,message:void 0,context:this.logContext})}logUnknownMessageFromWorker(e){this.sendLogMessageToProcessors({id:ar.UnknownMessageFromWorker,message:void 0,context:this.logContext})}logUnknownLogMessageFromWorker(e){this.sendLogMessageToProcessors({id:ar.UnknownLogMessageFromWorker,message:void 0,context:this.logContext})}logOperation(e,r,t,s,o,i,a,l){const n={operationName:e,parentOperationName:r,didOperationSucceed:t,measuredRunTime:s,didOperationFailUnexpectedly:o,logs:i,propertyBag:a,exception:l};this.sendLogMessageToProcessors({id:ar.Operation,message:n,context:this.logContext})}logFallbackResultReturned(){this.sendLogMessageToProcessors({id:ar.FallbackResultReturned,message:void 0,context:this.logContext})}logUnknownMessageToWorker(e){this.sendLogMessageToProcessors({id:ar.FallbackResultReturned,message:e,context:this.logContext})}logErrorFromWorker(e){this.sendLogMessageToProcessors({id:ar.ErrorFromWorker,message:e,context:this.logContext})}logExceptionEncounteredInWorker(e){this.sendLogMessageToProcessors({id:ar.ExceptionEncounteredInWorker,message:e,context:this.logContext})}logMissingDeObfuscationInfoInTraceProcessingInfo(){this.sendLogMessageToProcessors({id:ar.MissingDeObfuscationInfoInTraceProcessingInfo,message:void 0,context:this.logContext})}logMissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo(){this.sendLogMessageToProcessors({id:ar.MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo,message:void 0,context:this.logContext})}logMissingShouldRecordExpandedTimeStampsInTraceProcessingInfo(){this.sendLogMessageToProcessors({id:ar.MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo,message:void 0,context:this.logContext})}logMissingCallTreeFilteringThresholdInMsInTraceProcessingInfo(){this.sendLogMessageToProcessors({id:ar.MissingCallTreeFilteringThresholdInMs,message:void 0,context:this.logContext})}logInvalidMessageReceivedByWorker(){this.sendLogMessageToProcessors({id:ar.InvalidMessageReceivedByWorker,message:void 0,context:this.logContext})}logInvalidProcessTraceMessageReceivedByWorker(){this.sendLogMessageToProcessors({id:ar.InvalidProcessTraceMessageReceivedByWorker,message:void 0,context:this.logContext})}logMissingTraceInTraceProcessingInfo(){this.sendLogMessageToProcessors({id:ar.InvalidProcessTraceMessageReceivedByWorker,message:void 0,context:this.logContext})}logSerializedCallTreesMissingInProcessorResult(){this.sendLogMessageToProcessors({id:ar.SerializedCallTreesMissingInProcessorResult,message:void 0,context:this.logContext})}logLogsMissingInProcessorResult(){this.sendLogMessageToProcessors({id:ar.LogsMissingInProcessorResult,message:void 0,context:this.logContext})}logUndefinedWebWorkerCompletionCallback(){this.sendLogMessageToProcessors({id:ar.UndefinedWebWorkerCompletionCallback,message:void 0,context:this.logContext})}logLogsMissingInErrorsFromWebWorker(){this.sendLogMessageToProcessors({id:ar.LogsMissingInErrorsFromWebWorker,message:void 0,context:this.logContext})}logUndefinedErrorCallback(){this.sendLogMessageToProcessors({id:ar.UndefinedErrorCallback,message:void 0,context:this.logContext})}logUndefinedTraceProcessingInfoToReturnBack(){this.sendLogMessageToProcessors({id:ar.UndefinedTraceProcessingInfoToReturnBack,message:void 0,context:this.logContext})}logWebWorkerErrorFallingBackToMainEventLoop(){this.sendLogMessageToProcessors({id:ar.WebWorkerErrorFallingBackToMainEventLoop,message:void 0,context:this.logContext})}logWebWorkerAlreadyStarted(){this.sendLogMessageToProcessors({id:ar.WebWorkerAlreadyStarted,message:void 0,context:this.logContext})}logWebWorkerTerminated(){this.sendLogMessageToProcessors({id:ar.WebWorkerTerminated,message:void 0,context:this.logContext})}logCustomPropertiesMissingInTrace(){this.sendLogMessageToProcessors({id:ar.CustomPropertiesMissingInTrace,message:void 0,context:this.logContext})}logProfilerTraceMissingInTrace(){this.sendLogMessageToProcessors({id:ar.ProfilerTraceMissingInTrace,message:void 0,context:this.logContext})}logProfilerTraceStartTimestampMissingInTrace(){this.sendLogMessageToProcessors({id:ar.ProfilerTraceStartTimestampMissingInTrace,message:void 0,context:this.logContext})}logProfilerPropertiesMissingInTrace(){this.sendLogMessageToProcessors({id:ar.ProfilerPropertiesMissingInTrace,message:void 0,context:this.logContext})}logElapsedProfilingTimeMissingInTrace(){this.sendLogMessageToProcessors({id:ar.ElapsedProfilingTimeMissingInTrace,message:void 0,context:this.logContext})}logInvalidProfilerTraceToProcess(){this.sendLogMessageToProcessors({id:ar.InvalidProfilerTraceToProcess,message:void 0,context:this.logContext})}logWebWorkerError(e){this.sendLogMessageToProcessors({id:ar.WebWorkerError,message:e,context:this.logContext})}logWebWorkerErrorCallbackNotRegistered(){this.sendLogMessageToProcessors({id:ar.WebWorkerErrorCallbackNotRegistered,message:void 0,context:this.logContext})}logWebWorkerTraceProcessingInfoMissingToReturnOnError(){this.sendLogMessageToProcessors({id:ar.WebWorkerTraceProcessingInfoMissingToReturnOnError,message:void 0,context:this.logContext})}logProfilerTrace(e,r){this.sendLogMessageToProcessors({id:ar.ProfilerTrace,message:e,context:this.logContext,logOptions:{profilerTraceLoggingChunkSize:r}})}logMissingCallToFilterCallTrees(){this.sendLogMessageToProcessors({id:ar.MissingCallToFilterCallTrees,message:void 0,context:this.logContext})}logMissingCallToFilterFrames(){this.sendLogMessageToProcessors({id:ar.MissingCallToFilterFrames,message:void 0,context:this.logContext})}logNullCallTreeFramesFiltererFilterFramesInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeFramesFiltererFilterFramesInvoked,message:void 0,context:this.logContext})}logNullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked,message:void 0,context:this.logContext})}logNullCallTreeGetFramesFiltererInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeGetFramesFiltererInvoked,message:void 0,context:this.logContext})}logFilterFrameWithNoParent(){this.sendLogMessageToProcessors({id:ar.FilterFrameWithNoParent,message:void 0,context:this.logContext})}subscribe(e){this.logMessageProcessors.push(e)}unsubscribe(e){this.logMessageProcessors=this.logMessageProcessors.filter(r=>r!==e)}sendLogMessageToProcessors(e){this.logMessageProcessors.forEach(r=>{r.processLogMessage(e)})}logOperationLogMessageFiltererInitOptions(e,r,t){this.sendLogMessageToProcessors({id:ar.OperationLogMessageFiltererInitOptions,message:{shouldAlwaysLogOperationsData:e,listOfOperationNamesToAlwaysLog:r,operationMeasuredRunTimeFilteringThresholdInMs:t},context:this.logContext})}logNullOrUndefinedProfilerEvent(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedProfilerEvent,message:void 0,context:this.logContext})}logUnknownProfilerEventId(e){this.sendLogMessageToProcessors({id:ar.UnknownProfilerEventId,message:e,context:this.logContext})}logNullOrUndefinedProfilerTrace(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedProfilerTrace,message:void 0,context:this.logContext})}logOperationLogMessageFilteringCriteriaMissingInTrace(){this.sendLogMessageToProcessors({id:ar.OperationLogMessageFilteringCriteriaMissingInTrace,message:void 0,context:this.logContext})}logNullOrUndefinedProfilerObserverPassedInForSubscribe(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedProfilerObserverPassedInForSubscribe,message:void 0,context:this.logContext})}logNullOrUndefinedProfilerEventIds(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedProfilerEventIds,message:void 0,context:this.logContext})}logUnexpectedUndefinedProfilerEventIds(){this.sendLogMessageToProcessors({id:ar.UnexpectedUndefinedProfilerEventIds,message:void 0,context:this.logContext})}logNullOrUndefinedProfilerObserverPassedInForUnsubscribe(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedProfilerObserverPassedInForUnsubscribe,message:void 0,context:this.logContext})}logNullOrUndefinedProfilerEventToUnsubscribe(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedProfilerEventToUnsubscribe,message:void 0,context:this.logContext})}logProfilerObserverWasNeverSubscribed(){this.sendLogMessageToProcessors({id:ar.ProfilerObserverWasNeverSubscribed,message:void 0,context:this.logContext})}logUnexpectedNullOrUndefinedSubscribedProfilerEventIds(){this.sendLogMessageToProcessors({id:ar.UnexpectedNullOrUndefinedSubscribedProfilerEventIds,message:void 0,context:this.logContext})}logProfilerObserverNeverSubscribedForProfilerEventId(e){this.sendLogMessageToProcessors({id:ar.ProfilerObserverNeverSubscribedForProfilerEventId,message:e,context:this.logContext})}logCallTreeCustomPropertiesRetrieversMissingInTrace(){this.sendLogMessageToProcessors({id:ar.CallTreeCustomPropertiesRetrieversMissingInTrace,message:void 0,context:this.logContext})}logNullOrUndefinedItemToSubscribe(e){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedItemToSubscribe,message:e,context:this.logContext})}logNullOrUndefinedItemForUnsubscribe(e){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedItemForUnsubscribe,message:e,context:this.logContext})}logItemWasNeverSubscribed(e){this.sendLogMessageToProcessors({id:ar.ItemWasNeverSubscribed,message:e,context:this.logContext})}logNumberOfCallTreesFiltererByCustomFilterers(e,r){this.sendLogMessageToProcessors({id:ar.NumberOfCallTreesFiltererByCustomFilterers,message:{filteredCount:e,totalCount:r},context:this.logContext})}logProcessTraceParamsIsNullOrUndefined(){this.sendLogMessageToProcessors({id:ar.ProcessTraceParamsIsNullOrUndefined,message:void 0,context:this.logContext})}logCurrentTraceBeingProcessedNullOrUndefined(){this.sendLogMessageToProcessors({id:ar.ProcessTraceParamsIsNullOrUndefined,message:void 0,context:this.logContext})}logTraceIdMissingInTrace(){this.sendLogMessageToProcessors({id:ar.TraceIdMissingInTrace,message:void 0,context:this.logContext})}logUndefinedStoredProfilerTraceProcessingWorker(){this.sendLogMessageToProcessors({id:ar.UndefinedStoredProfilerTraceProcessingWorker,message:void 0,context:this.logContext})}logNullCallTreeGetReconstructableTreeIteratorInvoked(){this.sendLogMessageToProcessors({id:ar.NullCallTreeGetReconstructableTreeIteratorInvoked,message:void 0,context:this.logContext})}logGetCustomPropertiesCalledOnNullJSCPUProfilerTrace(){this.sendLogMessageToProcessors({id:ar.GetCustomPropertiesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})}logGetResourcesCalledOnNullJSCPUProfilerTrace(){this.sendLogMessageToProcessors({id:ar.GetResourcesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})}logGetFramesCalledOnNullJSCPUProfilerTrace(){this.sendLogMessageToProcessors({id:ar.GetFramesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})}logGetStacksCalledOnNullJSCPUProfilerTrace(){this.sendLogMessageToProcessors({id:ar.GetStacksCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})}logGetSamplesCalledOnNullJSCPUProfilerTrace(){this.sendLogMessageToProcessors({id:ar.GetSamplesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})}logGetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace(){this.sendLogMessageToProcessors({id:ar.GetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})}logGetProfilerPropertiesCalledOnNullJSCPUProfilerTrace(){this.sendLogMessageToProcessors({id:ar.GetProfilerPropertiesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})}logGetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace(){this.sendLogMessageToProcessors({id:ar.GetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})}logRemoveQueryParamsFromResourceURLsNeverCalled(){this.sendLogMessageToProcessors({id:ar.RemoveQueryParamsFromResourceURLsNeverCalled,message:void 0,context:this.logContext})}logSerializeCallTreeWasNeverCalled(){this.sendLogMessageToProcessors({id:ar.SerializeCallTreeNeverCalled,message:void 0,context:this.logContext})}logConvertToJSONStringWasNeverCalled(){this.sendLogMessageToProcessors({id:ar.ConvertToJSONStringWasNeverCalled,message:void 0,context:this.logContext})}constructor(e){this.logContext=e,this.logMessageProcessors=[]}}!function(e){e[e.MainEventLoop=0]="MainEventLoop",e[e.Worker=1]="Worker"}(lr||(lr={}));class br{getFiltererName(){return"OperationLogMessageFilterer"}shouldFilterLogMessage(e){if(e.id!==ar.Operation)return!1;if(this.shouldAlwaysLogOperationsData)return!1;const r=e.message;return!(r.didOperationFailUnexpectedly||-1!==this.listOfOperationNamesToAlwaysLog.indexOf(r.operationName)||r.measuredRunTime>this.operationMeasuredRunTimeFilteringThresholdInMs)}constructor(e,r,t,s){this.shouldAlwaysLogOperationsData=e,this.listOfOperationNamesToAlwaysLog=r,this.operationMeasuredRunTimeFilteringThresholdInMs=t,this.logger=s,this.logger.logOperationLogMessageFiltererInitOptions(e,r,t)}}function kr(e,r=30){const t=[];for(let s=0;s<e.length;s+=r)t.push(e.slice(s,s+r));return t}class Mr{getTransporterName(){return"ULSLogMessageTransporter"}transportLogMessage(e){var r;if(!this.shouldTransportLogs)return;let t="";switch(e.context){case lr.MainEventLoop:t="ProfilingSessionLogger-MainEventLoop";break;case lr.Worker:t="ProfilingSessionLogger-Worker"}switch(e.id){case ar.MissingProfilerImplementation:a.a.sendTraceTag(543477840,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: Factory doesn't know how to create profiler of type ${e.message}`);break;case ar.FailingValidationsInProfilerFactory:a.a.sendTraceTag(543477841,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Validations failed while creating the profiler");break;case ar.WindowMissingInJSEnvironment:a.a.sendTraceTag(543477842,l.a.msoulscat_Wac_Telemetry,n.a.Warning,t+": Unable to find window in the JS environment");break;case ar.WindowPropertyNameChecked:a.a.sendTraceTag(543477843,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: ${e.message}`);break;case ar.UserAgentToParseChromiumMajorVersionNumber:a.a.sendTraceTag(543477844,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: ${e.message}`);break;case ar.ChromeNotPresentInUserAgent:a.a.sendTraceTag(543477845,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Chrome was not found in the user agent");break;case ar.UnableToIsolateChromeInformationFromUserAgent:a.a.sendTraceTag(543477846,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Unable to isolate chrome information from the user agent");break;case ar.UnableToExtractChromeVersionInformation:a.a.sendTraceTag(543477847,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Unable to extract chrome version information from the user agent");break;case ar.UnableToParseChromeMajorVersionString:a.a.sendTraceTag(543477848,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Unable to parse the chromium major version number");break;case ar.ParsedChromiumMajorVersionNumber:a.a.sendTraceTag(543477849,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: ${e.message.toString()}`);break;case ar.UserAgentToCheckForChromiumBrowser:a.a.sendTraceTag(543477850,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: ${e.message}`);break;case ar.EmptyUserAgentString:a.a.sendTraceTag(543477851,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Empty user agent string");break;case ar.BrowserUserAgentNotChromiumBased:a.a.sendTraceTag(543477852,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Browser not chromium based");break;case ar.UserAgentSpoofedToBeChromium:a.a.sendTraceTag(543477853,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Browser user agent spoofed to be chromium based");break;case ar.BrowserNotChromiumBasedBrowser:a.a.sendTraceTag(543477854,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Browser user agent spoofed to be chromium based");break;case ar.UnsupportedChromiumMajorVersionNumber:a.a.sendTraceTag(543477855,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Unsupported chromium major version number");break;case ar.ProfilerInitOptionsNullOrUndefined:a.a.sendTraceTag(543477856,l.a.msoulscat_Wac_Telemetry,n.a.Info,"ProfilerInitOptions cannot be null or undefined");break;case ar.SamplingIntervalIsLessThanOrEqualToZero:a.a.sendTraceTag(543477857,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Sampling interval must be greater than zero");break;case ar.SamplingIntervalLessThanMinimumSupportedSamplingInterval:a.a.sendTraceTag(543477858,l.a.msoulscat_Wac_Telemetry,n.a.Warning,`${t}: Sampling interval ${e.message.samplingInterval} is less than minimum supported sampling interval ${e.message.minimumSupportedSamplingInterval}. API might perform scaling`);break;case ar.UnsupportedBrowser:a.a.sendTraceTag(543477859,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiling is not supported in this browser");break;case ar.UnsupportedOperatingSystem:a.a.sendTraceTag(543477888,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiling is not supported in this operating system");break;case ar.JSSelfProfilingAPIUnavailable:a.a.sendTraceTag(543477889,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": JSSelfProfiling is not available");break;case ar.RetrievedUserAgent:a.a.sendTraceTag(543477890,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: ${e.message}`);break;case ar.NullJSCPUProfilerStartCalled:a.a.sendTraceTag(543477891,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": NullJSCPUProfiler start called");break;case ar.NullJSCPUProfilerStopCalled:a.a.sendTraceTag(543477892,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": NullJSCPUProfiler stop called");break;case ar.NullOrUndefinedProfilerInitOptions:a.a.sendTraceTag(543477893,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": ProfilerInitOptions is null or undefined");break;case ar.MaxBufferSizeFixedToDefaultSize:a.a.sendTraceTag(543477894,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Max buffer size was fixed to the default max size");break;case ar.MaxBufferSizeWasNotFixedBeforeRetrieval:a.a.sendTraceTag(543477895,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Retrieve was called before fix max buffer size was called. The returned options can be undefined");break;case ar.ProfilerNotPresentInJSEnvironment:a.a.sendTraceTag(543477896,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiler is not present in the JS environment indicating JSSelfProfiling API is not available");break;case ar.SamplingIntervalValidationCheckFailed:a.a.sendTraceTag(543477897,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Sampling interval validation check failed");break;case ar.MaxBufferValidationFailed:a.a.sendTraceTag(543477898,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Max buffer size validation failed");break;case ar.MaxBufferSizeNotSpecified:a.a.sendTraceTag(543477899,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Max buffer size is not specified");break;case ar.MaxBufferSizeLessThanOrEqualToZero:a.a.sendTraceTag(543477900,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Max buffer size is less than or equal to zero");break;case ar.ManualProfilerValidationFailed:a.a.sendTraceTag(543477901,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Timed profiler initialization options failed to pass manual profiler initialization options");break;case ar.ProfilingIntervalValidationFailed:a.a.sendTraceTag(543477902,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiling interval validation failed");break;case ar.ProfilingIntervalNullOrUndefined:a.a.sendTraceTag(543477903,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiling interval is null or undefined");break;case ar.ProfilingIntervalLessThanOrEqualToZero:a.a.sendTraceTag(543477904,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiling interval is less than or equal to zero");break;case ar.ProfilingIntervalLessThanSamplingInterval:a.a.sendTraceTag(543477905,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiling interval is less than sampling interval");break;case ar.TimedProfilerValidationFailed:a.a.sendTraceTag(543477906,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Continuous profiler init options failed to pass timed profiler initialization options");break;case ar.IdleIntervalValidationFailed:a.a.sendTraceTag(543477907,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Idle interval validation failed for continuous profiler");break;case ar.IdleIntervalIsNullOrUndefined:a.a.sendTraceTag(543477908,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Idle interval is a required argument for continuous profiler");break;case ar.IdleIntervalIsLessThanOrEqualToZero:a.a.sendTraceTag(543477909,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Idle interval must be greater than zero");break;case ar.PostProfilerStartCallbackSpecified:a.a.sendTraceTag(543477910,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": A post profiler start callback is specified");break;case ar.PreProfilerStartCheckFailed:a.a.sendTraceTag(543477911,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": One or more pre-profiler start checks failed");break;case ar.MaxBufferSizeNotFixed:a.a.sendTraceTag(543477912,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Max buffer size must be fixed before we get to this point. Is the profiler being created outside the factory?");break;case ar.BailingOutOnNullProfiler:a.a.sendTraceTag(539109121,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null profiler was created due to some error, bailing out from profiling loop");break;case ar.NotProcessingCapturedTraceDueToUserBeingIdle:a.a.sendTraceTag(537706779,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": No browser events were detected between profiler start and profiler end. data will not be proccessed since user was idle");break;case ar.ProfilerAlreadyStarted:a.a.sendTraceTag(543477913,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Attempting to start the profiler even though the profiler is already started. Stop the profiler first and attempt a restart");break;case ar.ProfilerStartSucceeded:a.a.sendTraceTag(543477914,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": start the profiler successfully");break;case ar.InvokingPostProfilerStartCallback:a.a.sendTraceTag(543477915,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Invoking the post profiler start callback");break;case ar.PostProfilerStopCallbackSpecified:a.a.sendTraceTag(543477916,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": A callback for post profiler stop is specified");break;case ar.ProfilerInstanceIsUndefined:a.a.sendTraceTag(543477917,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiler instance is undefined. Is the profiler is being stopped without ever starting?");break;case ar.ProfilerStopPromiseResolved:a.a.sendTraceTag(543477918,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiler stop promise has been resolved successfully");break;case ar.ProfilerStopPromiseRejected:a.a.sendTraceTag(543477919,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: ${JSON.stringify({promiseRejectionReason:e.message})}`);break;case ar.PostProfilerStopCallbackInvoked:a.a.sendTraceTag(543477920,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Post profiler stop callback is being invoked");break;case ar.PostTimedStartProfilerStartCallbackInvoked:a.a.sendTraceTag(543477921,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Post timed profiler start callback invoked");break;case ar.ProfilingIntervalIsUndefined:a.a.sendTraceTag(543477922,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Profiling interval is expected to be defined for timed profiler");break;case ar.TimerJobToStopProfilerSet:a.a.sendTraceTag(543477923,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": A timer job to stop the profiler is created");break;case ar.TimedProfilerStopCallbackInvoked:a.a.sendTraceTag(543477952,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Timed profiler is being stopped automatically");break;case ar.TimedProfilerIsBeingStoppedManually:a.a.sendTraceTag(543477953,l.a.msoulscat_Wac_Telemetry,n.a.Warning,t+": Timed profiler is being stopped manually");break;case ar.ProfilerStartPromiseCreated:a.a.sendTraceTag(543477954,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiler start promise has been created");break;case ar.ProfilerStopGoingToBeInvoked:a.a.sendTraceTag(543477955,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": A call to stop profiler is going to be invoked");break;case ar.SamplingIntervalUsedForStartingProfiler:a.a.sendTraceTag(543477956,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: ${e.message.toString()}`);break;case ar.MaxBufferSize:a.a.sendTraceTag(543477957,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: ${e.message.toString()}`);break;case ar.NoProfilerInstanceBuilt:a.a.sendTraceTag(543477958,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": No instance of a profiler was built. Missing implementation?");break;case ar.ProfilerInitOptionsValidationFailed:a.a.sendTraceTag(543477959,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": ProfilerInitOptions validation failed");break;case ar.UnableToFixUpProfilerInitOptions:a.a.sendTraceTag(543477960,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Unable to fixup profilerInitOptions");break;case ar.ProfilingIsNotEnabled:a.a.sendTraceTag(543477961,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiling feature is not enabled");break;case ar.ProfilingIsNotSupportedEnvironment:a.a.sendTraceTag(543477962,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Profiling is not supported in the environment");break;case ar.FeatureCheckerIsNullOrUndefined:a.a.sendTraceTag(543477963,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Feature checker is null or undefined");break;case ar.NullSupportedEnvironmentCheckerInvoked:a.a.sendTraceTag(543477964,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": NullSupportedEnvironmentChecker was invoked");break;case ar.NullJSCPUProfilerInitOptionsValidatorInvoked:a.a.sendTraceTag(543477965,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": NullJSCPUProfilerInitOptionsValidator was invoked");break;case ar.NullJSCPUProfilerFactoryInvoked:a.a.sendTraceTag(543477966,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": NullJSCPUProfilerFactory createProfiler was invoked");break;case ar.NullOrUndefinedIdleInterval:a.a.sendTraceTag(543477967,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": idleIntervalInMs is null or undefined. So killing the timer job");break;case ar.CreateProfilerDidNotSubscribeProfilerObserver:a.a.sendTraceTag(543477969,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": A profiler observer was never subscribed to the created profiler");break;case ar.NullOrUndefinedCustomPropertiesRetriever:a.a.sendTraceTag(543477972,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Custom Properties retriever is null or undefined");break;case ar.NullOrUndefinedCustomProperties:a.a.sendTraceTag(543477973,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Custom Properties is null or undefined");break;case ar.CustomPropertyKeyIsNull:a.a.sendTraceTag(543477974,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": A custom property key is null");break;case ar.CustomPropertyValueIsNull:a.a.sendTraceTag(543477975,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": A custom property value is null");break;case ar.RetrieveCallTreesCalledBeforeTransform:a.a.sendTraceTag(543477976,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Transform should be called before retrieveCallTrees");break;case ar.RetrieveBuiltCallTreesBeforeBuildCallTrees:a.a.sendTraceTag(543477977,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": BuildCallTrees should be called before retrieveBuiltCallTrees");break;case ar.RetrieveStacksCalledBeforeBuildStacks:a.a.sendTraceTag(543477978,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": BuildStacks should be called before retrieveStacks");break;case ar.ExecutionStacksNeverBuilt:a.a.sendTraceTag(543477979,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Execution stacks were not built. Instead an empty array of stacks will be returned");break;case ar.PeekOnNullExecutionStackInvoked:a.a.sendTraceTag(543477980,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Peek was invoked on Null ExecutionStack");break;case ar.PopOnNullExecutionStackInvoked:a.a.sendTraceTag(543477981,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Pop was invoked on Null ExecutionStack");break;case ar.EmptyStacks:a.a.sendTraceTag(543477982,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Stacks array is empty. No further processing can be performed.");break;case ar.EmptyFrames:a.a.sendTraceTag(543477983,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Frames array is empty. No further processing can be performed.");break;case ar.ForciblyExitingLoopWhileBuildingStack:a.a.sendTraceTag(543477984,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": While loop is being forcibly exited because of a runaway while loop ");break;case ar.RetrieveStackCalledBeforeBuildStack:a.a.sendTraceTag(543477985,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": BuildStack should be called before RetrieveStack");break;case ar.ExecutionStackNeverBuilt:a.a.sendTraceTag(543477986,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Built execution stack is undefined. So null execution stack will be returned");break;case ar.ConvertStacksToCallTreesNeverCalled:a.a.sendTraceTag(543477987,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Convert stacks to call trees was not called before retrieve call trees. Empty call trees will be returned");break;case ar.ConvertStackToCallTreeNeverCalled:a.a.sendTraceTag(543478016,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Convert stack to call tree was not called before retrieve call tree. Null call tree will be returned");break;case ar.NullFrameNodeCreated:a.a.sendTraceTag(543478017,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": NullFrameNode created");break;case ar.InvalidSampleIndex:a.a.sendTraceTag(543478018,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": sampleIndex needs to be greater than zero for proper indexing");break;case ar.InvalidFrameNodeStartTime:a.a.sendTraceTag(543478019,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Invalid frame node starting time");break;case ar.InvalidFrameNodeExecutionTime:a.a.sendTraceTag(543478020,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Invalid frame node execution time");break;case ar.InvalidNewFrameNodeExecutionTime:a.a.sendTraceTag(543478021,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Invalid new frame node execution time");break;case ar.NegativeSubTreeExecutionTime:a.a.sendTraceTag(543478022,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Negative sub tree execution time");break;case ar.FixerForProfilerType:a.a.sendTraceTag(543478023,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: ${e.message.toString()}`);break;case ar.MissingProfilerInitOptionsFixerImplementation:a.a.sendTraceTag(543478024,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Missing profiler init options fixer for unknown profiler type");break;case ar.LoopBackFixerFixProfilerInitOptionsInvoked:a.a.sendTraceTag(543478025,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": LoopBackFixer fixProfilerInitOptions was invoked");break;case ar.LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked:a.a.sendTraceTag(543478026,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": LoopBackFixer retrieveFixedProfilerInitOptions was invoked");break;case ar.MissingDeObfuscationEndpoint:a.a.sendTraceTag(543478027,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null or undefined deObfuscation endpoint was provided");break;case ar.NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling:a.a.sendTraceTag(543478028,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": The profile was captured in a hidden document. So, we are not processing it");break;case ar.NullCallTreeDepthFirstIteratorInvoked:a.a.sendTraceTag(543478029,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null getDepthFirstIterator was invoked");break;case ar.EmptySamplesArrayPassedToFilter:a.a.sendTraceTag(543478030,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": In order to properly filter out samples we need at least one sample");break;case ar.NullCallTreeLeftMostNodesIteratorInvoked:a.a.sendTraceTag(543478031,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null iterator was returned back to iterate over left most nodes");break;case ar.NullCallTreeRightMostNodesIteratorInvoked:a.a.sendTraceTag(543478032,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null iterator was returned back to iterate over right most nodes");break;case ar.MissingIsProfilingEnabledOnFeatureChecker:a.a.sendTraceTag(543478033,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": isProfilingEnabled is missing in FeatureChecker");break;case ar.FeatureCheckerIsProfilingEnabledNotAFunction:a.a.sendTraceTag(543478034,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": isProfilingEnabled on FeatureChecker is not a function");break;case ar.NullCallTreeGetTotalExecutionTimeInvoked:a.a.sendTraceTag(543478035,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": NullCallTree getTotalExecutionTimeInMs was invoked");break;case ar.NullCallTreeGetCustomPropertiesInvoked:a.a.sendTraceTag(543478036,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": NullCallTree getCustomProperties was invoked");break;case ar.SerializedCallTrees:a.a.sendTraceTag(543478037,l.a.msoulscat_Wac_Telemetry,n.a.Info,""+e.message);break;case ar.NullCallTreeIteratorImplGetNextInvoked:a.a.sendTraceTag(543478038,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": NullCallTreeIterator getNext was invoked");break;case ar.NullCallTreeIteratorImplHasMoreInvoked:a.a.sendTraceTag(543478039,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": NullCallTreeIterator hasMore was invoked");break;case ar.MissingProfilerNameForProfilerType:a.a.sendTraceTag(543478040,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: Missing profiler name for profiler type ${e.message}`);break;case ar.ExpectedOnlyOneNodePerLevelInCallTree:a.a.sendTraceTag(543478041,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Expected to see only one node per level in the call tree");break;case ar.MissingWebWorkerSourceURL:a.a.sendTraceTag(543478042,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": In order to use the web worker to process the profile, a source URL needs to be passed into the worker. But the URL was not provided");break;case ar.MaxNumberOfProfilersAlreadyCreated:a.a.sendTraceTag(543478043,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Max number of profilers have already been created. Cannot create anymore");break;case ar.SamplingIntervalAboveMaxSamplingInterval:a.a.sendTraceTag(543478044,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": The sampling interval is above the maximum allowed sampling interval");break;case ar.WebWorkerAPINotAvailable:a.a.sendTraceTag(543478045,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Web Worker API is not available. We will fallback to processing traces on the main event loop");break;case ar.UnableToBootWebWorker:a.a.sendTraceTag(543478046,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Attempted to start the web worker. But it failed for some reason");break;case ar.WorkerInstanceNotFound:a.a.sendTraceTag(543478047,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Web worker instance was not found. Cannot perform any action");break;case ar.IdNotFoundInMessageToWorker:a.a.sendTraceTag(543478048,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Id was not found in the message sent to the worker");break;case ar.DataNotFoundInMessageToWorker:a.a.sendTraceTag(543478049,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Data was not found in the message sent to the worker");break;case ar.IdNotFoundInMessageFromWorker:a.a.sendTraceTag(543478050,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Id was not found in the message sent from the worker");break;case ar.DataNotFoundInMessageFromWorker:a.a.sendTraceTag(543478051,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Data was not found in the message sent from the worker");break;case ar.UnknownMessageFromWorker:a.a.sendTraceTag(543478080,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: Unknown message with message id - ${e.message} sent from the worker`);break;case ar.ErrorFromWorker:a.a.sendTraceTag(540844827,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: Error - ${e.message} sent from the worker`);break;case ar.IdNotFoundInWorkerLogMessage:a.a.sendTraceTag(543478081,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Id is not present in the log message from the worker");break;case ar.MessageNotFoundInWorkerLogMessage:a.a.sendTraceTag(543478082,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": message is not present in the log message from the worker");break;case ar.UnknownLogMessageFromWorker:a.a.sendTraceTag(543478083,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: Unknown log message id - ${e.message} sent as part of the worker log message`);break;case ar.Operation:a.a.sendTraceTag(543478084,l.a.msoulscat_Wac_Telemetry,e.message.didOperationFailUnexpectedly?n.a.Error:n.a.Info,`${t}: ${JSON.stringify({operationName:e.message.operationName,parentOperationName:e.message.parentOperationName,didOperationSucceed:e.message.didOperationSucceed,measuredRunTime:e.message.measuredRunTime,logs:e.message.logs,properties:e.message.propertyBag?Array.from(e.message.propertyBag):e.message.propertyBag,exception:e.message.exception})}`);break;case ar.FallbackResultReturned:a.a.sendTraceTag(543478085,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Exception encountered. So, fallback result is being returned back");break;case ar.UnknownMessageToWorker:a.a.sendTraceTag(543478086,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: Unknown worker messageId ${e.message} encountered`);break;case ar.ExceptionEncounteredInWorker:a.a.sendTraceTag(543478087,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: ${JSON.stringify(e.message)}`);break;case ar.MissingDeObfuscationInfoInTraceProcessingInfo:a.a.sendTraceTag(543478088,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Missing deObfuscationInfo in trace processing information");break;case ar.MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo:a.a.sendTraceTag(543478089,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Missing shouldKeepSamplesOutsideOfProfilingInterval in trace processing information");break;case ar.MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo:a.a.sendTraceTag(543478090,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Missing shouldRecordExpandedTimeStamps in trace processing information");break;case ar.MissingCallTreeFilteringThresholdInMsInTraceProcessingInfo:a.a.sendTraceTag(543478091,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Missing callTreeFilteringThresholdInMs in trace processing information");break;case ar.InvalidMessageReceivedByWorker:a.a.sendTraceTag(543478092,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Invalid message received by the worker. Returning without any processing");break;case ar.InvalidProcessTraceMessageReceivedByWorker:a.a.sendTraceTag(543478093,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Invalid process trace message received by the worker. Returning without any processing");break;case ar.MissingTraceInTraceProcessingInfo:a.a.sendTraceTag(543478094,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Missing trace in trace processing information");break;case ar.SerializedCallTreesMissingInProcessorResult:a.a.sendTraceTag(543478095,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": serializedCallTrees is missing in the processor result");break;case ar.LogsMissingInProcessorResult:a.a.sendTraceTag(543478096,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": logs is missing in the processor result");break;case ar.UndefinedWebWorkerCompletionCallback:a.a.sendTraceTag(543478097,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Undefined completion callback for the processor result. The results will be ignored");break;case ar.LogsMissingInErrorsFromWebWorker:a.a.sendTraceTag(543478098,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Worker raised an error. But no logs can be found in the message that the worker sent over. This should not happen");break;case ar.UndefinedErrorCallback:a.a.sendTraceTag(543478099,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Worker raised an error. But the main thread has not provided a callback function to notify on error. So, ignoring the error");break;case ar.UndefinedTraceProcessingInfoToReturnBack:a.a.sendTraceTag(543478100,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": The worker ran into an error. But no trace processing info was found to return back to the caller");break;case ar.WebWorkerAlreadyStarted:a.a.sendTraceTag(543478101,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Attempting to start a web worker that has already been started");break;case ar.WebWorkerTerminated:a.a.sendTraceTag(540844828,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": Web worker got terminated");break;case ar.WebWorkerErrorFallingBackToMainEventLoop:a.a.sendTraceTag(543478102,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Error encountered in the web worker. So falling back to processing the trace in the main event loop");break;case ar.CustomPropertiesMissingInTrace:a.a.sendTraceTag(543478103,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": CustomProperties was not found in the trace");break;case ar.ProfilerTraceMissingInTrace:a.a.sendTraceTag(543478104,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": ProfilerTrace was not found in the trace");break;case ar.ProfilerTraceStartTimestampMissingInTrace:a.a.sendTraceTag(543478105,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": ProfilerTraceStartTimestamp was not found in the trace");break;case ar.ProfilerPropertiesMissingInTrace:a.a.sendTraceTag(543478106,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": ProfilerProperties was not found in the trace");break;case ar.ElapsedProfilingTimeMissingInTrace:a.a.sendTraceTag(543478107,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": ElapsedProfilingTime was not found in the trace");break;case ar.InvalidProfilerTraceToProcess:a.a.sendTraceTag(543478108,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Invalid profiler trace to process. Returning back without processing");break;case ar.WebWorkerError:a.a.sendTraceTag(543478109,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: ${e.message}`);break;case ar.WebWorkerErrorCallbackNotRegistered:a.a.sendTraceTag(543478110,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": No error callback has been registered for the web worker. So ignoring the error message");break;case ar.WebWorkerTraceProcessingInfoMissingToReturnOnError:a.a.sendTraceTag(543478111,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": In order to reprocess the trace in the main event loop, trace processing info is required. But did not find any");break;case ar.ProfilerTrace:const s=(null===(r=e.logOptions)||void 0===r?void 0:r.profilerTraceLoggingChunkSize)||30;let o=0;for(const r of kr(e.message.getResources(),s))a.a.sendTraceTag(543478112,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: [chunk ${o}] ${JSON.stringify({profilerTraceStartTimestamp:e.message.getProfilerTraceStartTimestamp(),resources:r})}`),o++;o=0;for(const r of kr(e.message.getFrames(),s))a.a.sendTraceTag(539784207,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: [chunk ${o}] ${JSON.stringify({profilerTraceStartTimestamp:e.message.getProfilerTraceStartTimestamp(),frames:r})}`),o++;o=0;for(const r of kr(e.message.getStacks(),s))a.a.sendTraceTag(539784208,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: [chunk ${o}] ${JSON.stringify({profilerTraceStartTimestamp:e.message.getProfilerTraceStartTimestamp(),stacks:r})}`),o++;o=0;for(const r of kr(e.message.getSamplesTrimmed(),s))a.a.sendTraceTag(539784209,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: [chunk ${o}] ${JSON.stringify({profilerTraceStartTimestamp:e.message.getProfilerTraceStartTimestamp(),samples:r})}`),o++;break;case ar.MissingCallToFilterCallTrees:a.a.sendTraceTag(543478113,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Missing a call to filterCallTrees. Returning an empty array back");break;case ar.MissingCallToFilterFrames:a.a.sendTraceTag(543478114,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Missing a call to filterFrames. Returning NullCallTree back");break;case ar.NullCallTreeFramesFiltererFilterFramesInvoked:a.a.sendTraceTag(543478115,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": filterFrames invoked on NullCallTreeFilterFrames");break;case ar.NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked:a.a.sendTraceTag(543478144,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": retrieveFilteredCallTree invoked on NullCallTreeFilterFrames");break;case ar.NullCallTreeGetFramesFiltererInvoked:a.a.sendTraceTag(543478145,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": getFramesFilterer invoked on NullCallTree");break;case ar.FilterFrameWithNoParent:a.a.sendTraceTag(543478146,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": CallTreeFramesFiltererImpl tries to filter node with no parent");break;case ar.OperationLogMessageFiltererInitOptions:a.a.sendTraceTag(542389340,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: ${JSON.stringify(e.message)}`);break;case ar.NoCallTreesToSend:a.a.sendTraceTag(542229786,l.a.msoulscat_Wac_Telemetry,n.a.Info,t+": No call trees to send to server");break;case ar.NullOrUndefinedProfilerEvent:a.a.sendTraceTag(540624656,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null or undefined profiler event sent to the profiler observer");break;case ar.UnknownProfilerEventId:a.a.sendTraceTag(540624657,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: Unknown profiler event ID ${e.message} sent to the profiler observer. Are you missing a case statement?`);break;case ar.NullOrUndefinedProfilerTrace:a.a.sendTraceTag(540624658,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null or undefined profiler trace sent to the observer. This message will be ignored");break;case ar.OperationLogMessageFilteringCriteriaMissingInTrace:a.a.sendTraceTag(540612253,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": OperationLogMessageFilteringCriteria is missing in trace");break;case ar.NullOrUndefinedProfilerObserverPassedInForSubscribe:a.a.sendTraceTag(540545986,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null or undefined profiler observer passed in for subscribe");break;case ar.NullOrUndefinedProfilerEventIds:a.a.sendTraceTag(540545987,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null or undefined profiler event ids");break;case ar.UnexpectedUndefinedProfilerEventIds:a.a.sendTraceTag(540545988,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Unexpected undefined profiler event ids");break;case ar.NullOrUndefinedProfilerObserverPassedInForUnsubscribe:a.a.sendTraceTag(540393807,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null or undefined profiler observer passed in for unsubscribe");break;case ar.NullOrUndefinedProfilerEventToUnsubscribe:a.a.sendTraceTag(540393808,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Null or undefined profiler event id passed for unsubscribe");break;case ar.ProfilerObserverWasNeverSubscribed:a.a.sendTraceTag(540393809,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Profiler observer does not have any subscriptions");break;case ar.UnexpectedNullOrUndefinedSubscribedProfilerEventIds:a.a.sendTraceTag(540393810,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Expected to receive a set of subscribed profiler event IDs. But unexpectedly received null/undefined");break;case ar.ProfilerObserverNeverSubscribedForProfilerEventId:a.a.sendTraceTag(540393811,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: Profiler observer never subscribed for the event ${e.message} that it is requesting to unsubscribe from`);break;case ar.NullOrUndefinedItemToSubscribe:a.a.sendTraceTag(509374879,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: null or undefined item tried to subscribe to an instance of profiler. type: ${e.message}`);break;case ar.NullOrUndefinedItemForUnsubscribe:a.a.sendTraceTag(509374878,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: null or undefined item tried to unsubscribe from an instance of profiler. type: ${e.message}`);break;case ar.ItemWasNeverSubscribed:a.a.sendTraceTag(509374877,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: trying to unsubscribe while item was never subscribed. type: ${e.message}`);break;case ar.NumberOfCallTreesFiltererByCustomFilterers:a.a.sendTraceTag(509374876,l.a.msoulscat_Wac_Telemetry,n.a.Info,`${t}: applied custom filterer and removed: ${e.message.filteredCount} call trees out of ${e.message.totalCount}.`);break;case ar.CallTreeCustomPropertiesRetrieversMissingInTrace:a.a.sendTraceTag(539797325,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Call Tree Custom Properties Retrievers missing in trace. Trace is invalid and web worker will return without processing");break;case ar.ProcessTraceParamsIsNullOrUndefined:a.a.sendTraceTag(539767647,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": ProcessTraceParams is null or undefined");break;case ar.CurrentTraceBeingProcessedNullOrUndefined:a.a.sendTraceTag(539767648,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Current trace being processed is null or undefined");break;case ar.TraceIdMissingInTrace:a.a.sendTraceTag(539767629,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": Trace ID is missing in trace");break;case ar.GetCustomPropertiesCalledOnNullJSCPUProfilerTrace:a.a.sendTraceTag(527247246,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": GetCustomProperties called on NullJSCPUProfilerTrace");break;case ar.GetFramesCalledOnNullJSCPUProfilerTrace:a.a.sendTraceTag(527247247,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": GetFrames called on NullJSCPUProfilerTrace");break;case ar.GetStacksCalledOnNullJSCPUProfilerTrace:a.a.sendTraceTag(527247248,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": GetStacks called on NullJSCPUProfilerTrace");break;case ar.GetSamplesCalledOnNullJSCPUProfilerTrace:a.a.sendTraceTag(527247249,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": GetSamples called on NullJSCPUProfilerTrace");break;case ar.GetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace:a.a.sendTraceTag(527247250,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": GetProfilerTraceStartTimestamp called on NullJSCPUProfilerTrace");break;case ar.GetProfilerPropertiesCalledOnNullJSCPUProfilerTrace:a.a.sendTraceTag(527247251,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": GetProfilerProperties called on NullJSCPUProfilerTrace");break;case ar.GetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace:a.a.sendTraceTag(527247252,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": GetElapsedProfilingTimeInMs called on NullJSCPUProfilerTrace");break;case ar.RemoveQueryParamsFromResourceURLsNeverCalled:a.a.sendTraceTag(527247253,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": removeQueryParamsFromResourceURLs was never called");break;case ar.SerializeCallTreeNeverCalled:a.a.sendTraceTag(506590178,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": serializeCallTree should be called before attempting to retrieve the call tree. Returning undefined");break;case ar.ConvertToJSONStringWasNeverCalled:a.a.sendTraceTag(506587295,l.a.msoulscat_Wac_Telemetry,n.a.Error,t+": convertToJSONString was never called. Returning a bad output");break;default:a.a.sendTraceTag(543478147,l.a.msoulscat_Wac_Telemetry,n.a.Error,`${t}: Unknown LogId. Please add a case for ${e.id}`)}}constructor(e){this.shouldTransportLogs=e}}class Nr{processLogMessage(e){this.shouldFilterLogMessage(e)||this.logMessageTransporters.forEach(r=>{r.transportLogMessage(e)})}subscribeFilterer(e){this.logMessageFilterers.push(e)}subscribeTransporter(e){this.logMessageTransporters.push(e)}shouldFilterLogMessage(e){for(const r of this.logMessageFilterers)if(r.shouldFilterLogMessage(e))return!0;return!1}constructor(){this.logMessageFilterers=[],this.logMessageTransporters=[]}}class xr extends Nr{processLogMessage(e){this.storedLogMessages.queue(e),this.storedLogMessages.length()>10&&this.logMessageTransporters.length>0&&!this.idleTimeJobScheduled&&(this.idleTimeJobScheduled=!0,this.transportLogsInIdleTime())}getNextLogMessageToTransport(){let e=this.storedLogMessages.peek();for(;void 0!==e&&this.shouldFilterLogMessage(e);)this.storedLogMessages.dequeue(),e=this.storedLogMessages.peek();return void 0!==e&&this.storedLogMessages.dequeue(),e}transportLogsInIdleTime(){const e=h.generateOperationResult({didOperationSucceed:!1,result:void 0});this.idleTimeJobScheduler.scheduleJobForIdleTime(()=>{p.startNew("TransportLogMessagesInIdleTime",e=>{let r=this.getNextLogMessageToTransport(),t=0;for(;void 0!==r&&t<50;)this.logMessageTransporters.forEach(e=>{void 0!==r&&e.transportLogMessage(r)}),t+=1,r=this.getNextLogMessageToTransport(),e.addProperty("NumberOfLogMessagesTransported",t);return this.idleTimeJobScheduled=!1,h.generateOperationResult({didOperationSucceed:!0,result:void 0})},e,this.logger)})}getAllStoredLogMessages(){return this.storedLogMessages}constructor(e,r){super(),this.idleTimeJobScheduler=e,this.logger=r,this.storedLogMessages=_.createQueue(),this.idleTimeJobScheduled=!1}}class yr{retrievePackageV2(e){const r=h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});return p.startNew("RetrieveCPUProfilingPackageV2",r=>{if(null==e)return h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});if(null==e.ulsInstance)return h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});if(Object(a.b)(e.ulsInstance),null==e.deObfuscationEndpoint)return this.logger.logMissingDeObfuscationEndpoint(),h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});if(null==e.useMainEventLoopForProfilerTraceProcessing&&(e.useMainEventLoopForProfilerTraceProcessing=!1),r.addProperty("UseMainEventLoopForProfilerTraceProcessing",e.useMainEventLoopForProfilerTraceProcessing),!e.useMainEventLoopForProfilerTraceProcessing&&null==e.profilerTraceProcessingWebWorkerSourceURL)return this.logger.logMissingWebWorkerSourceURL(),h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});null==e.callTreeFilteringThresholdInMs&&(e.callTreeFilteringThresholdInMs=50),r.addProperty("CallTreeFilteringThresholdInMs",e.callTreeFilteringThresholdInMs),null==e.shouldProfilingStartInAHiddenDocument&&(e.shouldProfilingStartInAHiddenDocument=!1),r.addProperty("ShouldProfilingStartInAHiddenDocument",e.shouldProfilingStartInAHiddenDocument),null==e.shouldProcessProfileCapturedInAHiddenDocument&&(e.shouldProcessProfileCapturedInAHiddenDocument=!1),r.addProperty("ShouldProcessProfileCapturedInAHiddenDocument",e.shouldProcessProfileCapturedInAHiddenDocument),null==e.shouldKeepSamplesOutsideOfProfilingInterval&&(e.shouldKeepSamplesOutsideOfProfilingInterval=!1),r.addProperty("ShouldKeepSamplesOutsideOfProfilingInterval",e.shouldKeepSamplesOutsideOfProfilingInterval),null==e.shouldRecordExpandedTimeStamps&&(e.shouldRecordExpandedTimeStamps=!1),r.addProperty("ShouldRecordExpandedTimeStamps",e.shouldRecordExpandedTimeStamps),null==e.shouldSendAllCallTreesFromProfileInASingleRequest&&(e.shouldSendAllCallTreesFromProfileInASingleRequest=!1),r.addProperty("ShouldSendAllCallTreesFromProfileInASingleRequest",e.shouldSendAllCallTreesFromProfileInASingleRequest),null==e.frameTotalExecutionTimeFilteringThresholdInMs&&(e.frameTotalExecutionTimeFilteringThresholdInMs=0),r.addProperty("FrameTotalExecutionTimeFilteringThresholdInMs",e.frameTotalExecutionTimeFilteringThresholdInMs),null==e.shouldAlwaysLogOperationsData&&(e.shouldAlwaysLogOperationsData=!1),r.addProperty("ShouldAlwaysLogOperationsData",e.shouldAlwaysLogOperationsData),null==e.durationThresholdInMsToLogOperationData&&(e.durationThresholdInMsToLogOperationData=50),r.addProperty("DurationThresholdInMsToLogOperationData",e.durationThresholdInMsToLogOperationData),null==e.shouldUseInMemoryLogger&&(e.shouldUseInMemoryLogger=!1),r.addProperty("ShouldUseInMemoryLogger",e.shouldUseInMemoryLogger),null==e.shouldTransportLogs&&(e.shouldTransportLogs=!0),r.addProperty("ShouldTransportLogs",e.shouldTransportLogs),this.logMessageTransporter=new Mr(e.shouldTransportLogs),e.shouldUseInMemoryLogger||(this.logger.unsubscribe(this.logMessageProcessor),this.logMessageProcessor=new Nr,this.logMessageProcessor.subscribeTransporter(this.logMessageTransporter),this.logger.subscribe(this.logMessageProcessor)),null==e.shouldSendProfilesForDeobfuscationImmediately&&(e.shouldSendProfilesForDeobfuscationImmediately=!1),r.addProperty("ShouldSendProfilesForDeobfuscationImmediately",e.shouldSendProfilesForDeobfuscationImmediately),null==e.shouldProcessProfileCapturedWhileUserIsIdle&&(e.shouldProcessProfileCapturedWhileUserIsIdle=!0),r.addProperty("ShouldProcessProfileCapturedWhileUserIsIdle",e.shouldProcessProfileCapturedWhileUserIsIdle),null==e.shouldKeepQueryParamsInResourceURLs&&(e.shouldKeepQueryParamsInResourceURLs=!1),r.addProperty("ShouldKeepQueryParamsInResourceURLs",e.shouldKeepQueryParamsInResourceURLs),null==e.shouldMakeSerializedCallTreesFullyReconstructible&&(e.shouldMakeSerializedCallTreesFullyReconstructible=!1),r.addProperty("ShouldMakeSerializedCallTreesFullyReconstructible",e.shouldMakeSerializedCallTreesFullyReconstructible),null==e.shouldSkipSupportedOSCheck&&(e.shouldSkipSupportedOSCheck=!1),r.addProperty("ShouldSkipSupportedOSCheck",e.shouldSkipSupportedOSCheck);const t=new br(e.shouldAlwaysLogOperationsData,J,e.durationThresholdInMsToLogOperationData,this.logger);return this.logMessageProcessor.subscribeFilterer(t),h.generateOperationResult({didOperationSucceed:!0,result:new vr(e.featureChecker,e,this.logMessageProcessor,this.logger)})},r,this.logger).getResult()}retrievePackage(e,r){const t=h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});return p.startNew("RetrieveCPUProfilingPackage",t=>{if(null==r)return h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});if(null==r.ulsInstance)return h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});if(Object(a.b)(r.ulsInstance),null==r.deObfuscationEndpoint)return this.logger.logMissingDeObfuscationEndpoint(),h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});if(null==r.useMainEventLoopForProfilerTraceProcessing&&(r.useMainEventLoopForProfilerTraceProcessing=!1),t.addProperty("UseMainEventLoopForProfilerTraceProcessing",r.useMainEventLoopForProfilerTraceProcessing),!r.useMainEventLoopForProfilerTraceProcessing&&null==r.profilerTraceProcessingWebWorkerSourceURL)return this.logger.logMissingWebWorkerSourceURL(),h.generateOperationResult({didOperationSucceed:!1,result:new Ir(this.logger)});null==r.callTreeFilteringThresholdInMs&&(r.callTreeFilteringThresholdInMs=50),null==r.shouldProfilingStartInAHiddenDocument&&(r.shouldProfilingStartInAHiddenDocument=!1),null==r.shouldProcessProfileCapturedInAHiddenDocument&&(r.shouldProcessProfileCapturedInAHiddenDocument=!1),null==r.shouldKeepSamplesOutsideOfProfilingInterval&&(r.shouldKeepSamplesOutsideOfProfilingInterval=!1),null==r.shouldRecordExpandedTimeStamps&&(r.shouldRecordExpandedTimeStamps=!1),null==r.shouldSendAllCallTreesFromProfileInASingleRequest&&(r.shouldSendAllCallTreesFromProfileInASingleRequest=!1),null==r.frameTotalExecutionTimeFilteringThresholdInMs&&(r.frameTotalExecutionTimeFilteringThresholdInMs=0),null==r.shouldAlwaysLogOperationsData&&(r.shouldAlwaysLogOperationsData=!1),null==r.durationThresholdInMsToLogOperationData&&(r.durationThresholdInMsToLogOperationData=50),null==r.shouldUseInMemoryLogger&&(r.shouldUseInMemoryLogger=!1),r.shouldUseInMemoryLogger||(this.logger.unsubscribe(this.logMessageProcessor),this.logMessageProcessor=new Nr,this.logMessageProcessor.subscribeTransporter(this.logMessageTransporter),this.logger.subscribe(this.logMessageProcessor)),null==r.shouldSendProfilesForDeobfuscationImmediately&&(r.shouldSendProfilesForDeobfuscationImmediately=!1),null==r.shouldProcessProfileCapturedWhileUserIsIdle&&(r.shouldProcessProfileCapturedWhileUserIsIdle=!0),null==r.shouldKeepQueryParamsInResourceURLs&&(r.shouldKeepQueryParamsInResourceURLs=!1),null==r.shouldMakeSerializedCallTreesFullyReconstructible&&(r.shouldMakeSerializedCallTreesFullyReconstructible=!1);const s=new br(r.shouldAlwaysLogOperationsData,J,r.durationThresholdInMsToLogOperationData,this.logger);return this.logMessageProcessor.subscribeFilterer(s),t.addProperty("DeObfuscationEndpoint",r.deObfuscationEndpoint),t.addProperty("CallTreeFilteringThresholdInMs",r.callTreeFilteringThresholdInMs),t.addProperty("ShouldProfilingStartInAHiddenDocument",r.shouldProfilingStartInAHiddenDocument),t.addProperty("ShouldProcessProfileCapturedInAHiddenDocument",r.shouldProcessProfileCapturedInAHiddenDocument),t.addProperty("ShouldKeepSamplesOutsideOfProfilingInterval",r.shouldKeepSamplesOutsideOfProfilingInterval),t.addProperty("ShouldRecordExpandedTimeStamps",r.shouldRecordExpandedTimeStamps),t.addProperty("WebWorkerSourceURL",r.profilerTraceProcessingWebWorkerSourceURL),t.addProperty("ShouldSendAllCallTreesFromProfileInASingleRequest",r.shouldSendAllCallTreesFromProfileInASingleRequest),t.addProperty("FrameTotalExecutionTimeFilteringThresholdInMs",r.frameTotalExecutionTimeFilteringThresholdInMs),t.addProperty("ShouldAlwaysLogOperationsData",r.shouldAlwaysLogOperationsData),t.addProperty("DurationThresholdToLogOperationData",r.durationThresholdInMsToLogOperationData),t.addProperty("ShouldUseInMemoryLogger",r.shouldUseInMemoryLogger),t.addProperty("ShouldKeepQueryParamsInResourceURLs",r.shouldKeepQueryParamsInResourceURLs),t.addProperty("ShouldMakeSerializedCallTreesFullyReconstructible",r.shouldMakeSerializedCallTreesFullyReconstructible),h.generateOperationResult({didOperationSucceed:!0,result:new vr(e,r,this.logMessageProcessor,this.logger)})},t,this.logger).getResult()}constructor(){this.logger=new Or(lr.MainEventLoop);const e=b.getIdleTimeJobScheduler();this.logMessageProcessor=new xr(e,this.logger),this.logMessageTransporter=new Mr(!0),this.logMessageProcessor.subscribeTransporter(this.logMessageTransporter),this.logger.subscribe(this.logMessageProcessor)}}function Rr(){return new yr}},51:function(e,r,t){"use strict";t.d(r,"a",(function(){return o})),t.d(r,"b",(function(){return i}));class s{sendTraceTag(){}shipAssertTag(){}debugAssertTag(){}setCorrelationId(){}}const o=new class{setCorrelationId(e){this.externalLogger.setCorrelationId(e)}setLogger(e){this.externalLogger=e}sendTraceTag(e,r,t,s){this.externalLogger.sendTraceTag(e,r,t,s)}debugAssertTag(e,r,t,s){this.externalLogger.debugAssertTag(e,r,t,s)}shipAssertTag(e,r,t,s){this.externalLogger.shipAssertTag(e,r,t,s)}constructor(){this.externalLogger=new s}};function i(e){if(!e)throw new Error("The 'logger' argument is missing");o.setLogger(e)}}});
//# sourceMappingURL=https://artifacts.dev.azure.com/office/_apis/symbol/symsrv/officeOnlineCpuProfiling.min.js.map/68375738fc503590047ff2e3e1d4910e/officeOnlineCpuProfiling.min.js.map